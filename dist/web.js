function e(e){return Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=Object.assign({},n),!s(n.value)||function(e){return"[object Function]"===Object.prototype.toString.call(e)}(n.value)||Array.isArray(n.value)||(t[r].value=Object.assign({},n.value)),Array.isArray(n.value)&&(t[r].value=n.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function r(e,t,r){if(null==r||!1===r)return e.removeAttribute(t);let s=JSON.stringify(r);e.__updating[t]=!0,"true"===s&&(s=""),e.setAttribute(t,s),Promise.resolve().then((()=>delete e.__updating[t]))}function s(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let n;function o(s,o){const a=Object.keys(o);return class extends s{static get observedAttributes(){return a.map((e=>o[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(!this.__initialized){this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(s,n){const o=e(n);return Object.keys(n).forEach((e=>{const n=o[e],a=s.getAttribute(n.attribute),i=s[e];a&&(n.value=n.parse?t(a):a),null!=i&&(n.value=Array.isArray(i)?i.slice(0):i),n.reflect&&r(s,n.attribute,n.value),Object.defineProperty(s,e,{get:()=>n.value,set(t){var s=n.value;n.value=t,n.reflect&&r(this,n.attribute,n.value);for(let r=0,n=this.__propertyChangedCallbacks.length;r<n;r++)this.__propertyChangedCallbacks[r](e,t,s)},enumerable:!0,configurable:!0})})),o}(this,o);var s=function(e){return Object.keys(e).reduce(((t,r)=>(t[r]=e[r].value,t)),{})}(this.props),a=this.Component,i=n;try{(n=this).__initialized=!0,function(e){return"function"==typeof e&&0===e.toString().indexOf("class")}(a)?new a(s,{element:this}):a(s,{element:this})}finally{n=i}}}async disconnectedCallback(){if(await Promise.resolve(),!this.isConnected){this.__propertyChangedCallbacks.length=0;for(var e=null;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}}attributeChangedCallback(e,r,s){!this.__initialized||this.__updating[e]||(e=this.lookupProp(e))in o&&(null==s&&!this[e]||(this[e]=o[e].parse?t(s):s))}lookupProp(e){if(o)return a.find((t=>e===t||e===o[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function a(e,t={},r={}){const{BaseElement:n=HTMLElement,extension:a}=r;return r=>{if(!e)throw new Error("tag is required to register a Component");let i=customElements.get(e);return i?i.prototype.Component=r:((i=o(n,function(e){return e?Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=s(n)&&"value"in n?n:{value:n},t[r].attribute||(t[r].attribute=function(e){return e.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")}(r)),t[r].parse="parse"in t[r]?t[r].parse:"string"!=typeof t[r].value,t}),{}):{}}(t))).prototype.Component=r,i.prototype.registeredTag=e,customElements.define(e,i,a)),i}}const i=Symbol("solid-proxy"),l=Symbol("solid-track"),c={equals:(e,t)=>e===t};let d=j;const u=1,h=2,p={owned:null,cleanups:null,context:null,owner:null};var f=null;let g=null,m=null,b=null,v=null,y=0;function w(e,t){const r=m,s=f,n=0===e.length,o=n?p:{owned:null,cleanups:null,context:null,owner:void 0===t?s:t},a=n?e:()=>e((()=>S((()=>B(o)))));f=o,m=null;try{return R(a,!0)}finally{m=r,f=s}}function x(e,t){const r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},c,t):c).equals||void 0};return[P.bind(r),e=>("function"==typeof e&&(e=e(r.value)),A(r,e))]}function k(e,t,r){O($(e,t,!1,u))}function _(e,t,r){d=N,(e=$(e,t,!1,u)).user=!0,v?v.push(e):O(e)}function C(e,t,r){return r=r?Object.assign({},c,r):c,(e=$(e,t,!0,0)).observers=null,e.observerSlots=null,e.comparator=r.equals||void 0,O(e),P.bind(e)}function S(e){if(null===m)return e();var t=m;m=null;try{return e()}finally{m=t}}function T(e){_((()=>S(e)))}function E(e){return null!==f&&(null===f.cleanups?f.cleanups=[e]:f.cleanups.push(e)),e}function P(){var e;return this.sources&&this.state&&(this.state===u?O(this):(e=b,b=null,R((()=>I(this)),!1),b=e)),m&&(e=this.observers?this.observers.length:0,m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])),this.value}function A(e,t,r){var s=e.value;return e.comparator&&e.comparator(s,t)||(e.value=t,e.observers&&e.observers.length&&R((()=>{for(let s=0;s<e.observers.length;s+=1){var t=e.observers[s],r=g&&g.running;r&&g.disposed.has(t),(r?t.tState:t.state)||((t.pure?b:v).push(t),t.observers&&M(t)),r||(t.state=u)}if(1e6<b.length)throw b=[],new Error}),!1)),t}function O(e){var t,r,s;e.fn&&(B(e),t=f,r=m,s=y,function(e,t,r){let s;try{s=e.fn(t)}catch(t){return e.pure&&(e.state=u,e.owned&&e.owned.forEach(B),e.owned=null),e.updatedAt=r+1,Z(t)}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?A(e,s):e.value=s,e.updatedAt=r)}(m=f=e,e.value,s),m=r,f=t)}function $(e,t,r,s=u,n){return e={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:f,context:null,pure:r},null!==f&&f!==p&&(f.owned?f.owned.push(e):f.owned=[e]),e}function L(e){if(0!==e.state){if(e.state===h)return I(e);if(e.suspense&&S(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<y);)e.state&&r.push(e);for(let s=r.length-1;0<=s;s--){var t;(e=r[s]).state===u?O(e):e.state===h&&(t=b,b=null,R((()=>I(e,r[0])),!1),b=t)}}}function R(e,t){if(b)return e();let r=!1;t||(b=[]),v?r=!0:v=[],y++;try{var s=e();return function(e){if(b&&(j(b),b=null),!e){const e=v;v=null,e.length&&R((()=>d(e)),!1)}}(r),s}catch(e){r||(v=null),b=null,Z(e)}}function j(e){for(let t=0;t<e.length;t++)L(e[t])}function N(e){let t,r=0;for(t=0;t<e.length;t++){var s=e[t];s.user?e[r++]=s:L(s)}for(t=0;t<r;t++)L(e[t])}function I(e,t){for(let n=e.state=0;n<e.sources.length;n+=1){var r,s=e.sources[n];s.sources&&((r=s.state)===u?s!==t&&(!s.updatedAt||s.updatedAt<y)&&L(s):r===h&&I(s,t))}}function M(e){for(let r=0;r<e.observers.length;r+=1){var t=e.observers[r];t.state||(t.state=h,(t.pure?b:v).push(t),t.observers&&M(t))}}function B(e){let t;if(e.sources)for(;e.sources.length;){var r,s,n=e.sources.pop(),o=e.sourceSlots.pop(),a=n.observers;a&&a.length&&(r=a.pop(),s=n.observerSlots.pop(),o<a.length)&&(a[r.sourceSlots[s]=o]=r,n.observerSlots[o]=s)}if(e.owned){for(t=e.owned.length-1;0<=t;t--)B(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;0<=t;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Z(e){throw e}const z=Symbol("fallback");function H(e){for(let t=0;t<e.length;t++)e[t]()}function D(e,t){return S((()=>e(t||{})))}function U(){return!0}const V={get:(e,t,r)=>t===i?r:e.get(t),has:(e,t)=>t===i||e.has(t),set:U,deleteProperty:U,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:U,deleteProperty:U}),ownKeys:e=>e.keys()};function q(e){return(e="function"==typeof e?e():e)||{}}function F(...e){let t=!1;for(let s=0;s<e.length;s++){var r=e[s];t=t||!!r&&i in r,e[s]="function"==typeof r?(t=!0,C(r)):r}if(t)return new Proxy({get(t){for(let s=e.length-1;0<=s;s--){var r=q(e[s])[t];if(void 0!==r)return r}},has(t){for(let r=e.length-1;0<=r;r--)if(t in q(e[r]))return!0;return!1},keys(){var t=[];for(let r=0;r<e.length;r++)t.push(...Object.keys(q(e[r])));return[...new Set(t)]}},V);var s={};for(let t=e.length-1;0<=t;t--)if(e[t])for(const r in Object.getOwnPropertyDescriptors(e[t]))r in s||Object.defineProperty(s,r,{enumerable:!0,get(){for(let s=e.length-1;0<=s;s--){var t=(e[s]||{})[r];if(void 0!==t)return t}}});return s}function W(e,...t){const r=new Set(t.flat());var s;if(i in e)return(s=t.map((t=>new Proxy({get:r=>t.includes(r)?e[r]:void 0,has:r=>t.includes(r)&&r in e,keys:()=>t.filter((t=>t in e))},V)))).push(new Proxy({get:t=>r.has(t)?void 0:e[t],has:t=>!r.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!r.has(e)))},V)),s;const n=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(n).filter((e=>!r.has(e)))),t.map((t=>{var r={};for(let s=0;s<t.length;s++){const o=t[s];o in e&&Object.defineProperty(r,o,n[o]||{get:()=>e[o],set:()=>!0,enumerable:!0})}return r}))}function G(e){var t="fallback"in e&&{fallback:()=>e.fallback};return C(function(e,t,r={}){let s=[],n=[],o=[],a=0,i=1<t.length?[]:null;return E((()=>H(o))),()=>{let c,d,u=e()||[];return u[l],S((()=>{let e,t,l,p,f,g,m,b,v,y=u.length;if(0===y)0!==a&&(H(o),o=[],s=[],n=[],a=0,i=i&&[]),r.fallback&&(s=[z],n[0]=w((e=>(o[0]=e,r.fallback()))),a=1);else if(0===a){for(n=new Array(y),d=0;d<y;d++)s[d]=u[d],n[d]=w(h);a=y}else{for(l=new Array(y),p=new Array(y),i&&(f=new Array(y)),g=0,m=Math.min(a,y);g<m&&s[g]===u[g];g++);for(m=a-1,b=y-1;m>=g&&b>=g&&s[m]===u[b];m--,b--)l[b]=n[m],p[b]=o[m],i&&(f[b]=i[m]);for(e=new Map,t=new Array(b+1),d=b;d>=g;d--)v=u[d],c=e.get(v),t[d]=void 0===c?-1:c,e.set(v,d);for(c=g;c<=m;c++)v=s[c],void 0!==(d=e.get(v))&&-1!==d?(l[d]=n[c],p[d]=o[c],i&&(f[d]=i[c]),d=t[d],e.set(v,d)):o[c]();for(d=g;d<y;d++)d in l?(n[d]=l[d],o[d]=p[d],i&&(i[d]=f[d],i[d](d))):n[d]=w(h);n=n.slice(0,a=y),s=u.slice(0)}return n}));function h(e){var r;return o[d]=e,i?([e,r]=x(d),i[d]=r,t(u[d],e)):t(u[d])}}}((()=>e.each),e.children,t||void 0))}function K(e){const t=e.keyed,r=C((()=>e.when),void 0,{equals:(e,r)=>t?e===r:!e==!r});return C((()=>{const s=r();if(s){const n=e.children;return"function"==typeof n&&0<n.length?S((()=>n(t?s:()=>{if(S(r))return e.when;throw(e=>`Stale read from <${e}>.`)("Show")}))):n}return e.fallback}),void 0,void 0)}const X=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),Y=new Set(["innerHTML","textContent","innerText","children"]),J=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Q=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});const ee=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),te={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const re="_$DX_DELEGATE";function se(e,t,r){let s;const n=()=>{var t=document.createElement("template");return t.innerHTML=e,(r?t.content.firstChild:t.content).firstChild};return(t=t?()=>(s=s||n()).cloneNode(!0):()=>S((()=>document.importNode(s=s||n(),!0)))).cloneNode=t}function ne(e,t=window.document){var r=t[re]||(t[re]=new Set);for(let n=0,o=e.length;n<o;n++){var s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,he))}}function oe(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function ae(e,t){null==t?e.removeAttribute("class"):e.className=t}function ie(e,t={},r,s){const n={};return s||k((()=>n.children=pe(e,t.children,n.children))),k((()=>t.ref&&t.ref(e))),k((()=>function(e,t,r,s,n={},o=!1){t=t||{};for(const s in n)s in t||"children"!==s&&(n[s]=ue(e,s,null,n[s],r,o));for(const i in t){var a;"children"===i?s||pe(e,t.children):(a=t[i],n[i]=ue(e,i,a,n[i],r,o))}}(e,t,r,!0,n,!0))),n}function le(e,t,r){return S((()=>e(t,r)))}function ce(e,t,r,s){if(void 0!==r&&(s=s||[]),"function"!=typeof t)return pe(e,t,s,r);k((s=>pe(e,t(),s,r)),s)}function de(e,t,r){var s=t.trim().split(/\s+/);for(let t=0,n=s.length;t<n;t++)e.classList.toggle(s[t],r)}function ue(e,t,r,s,n,o){let a,i,l,c,d;var u;return"style"===t?function(e,t,r){if(!t)return r?oe(e,"style"):t;var s=e.style;if("string"==typeof t)return s.cssText=t;let n,o;for(o in"string"==typeof r&&(s.cssText=r=void 0),t=t||{},r=r||{})null==t[o]&&s.removeProperty(o),delete r[o];for(o in t)(n=t[o])!==r[o]&&(s.setProperty(o,n),r[o]=n);return r}(e,r,s):"classList"===t?function(e,t,r={}){var s=Object.keys(t||{}),n=Object.keys(r);let o,a;for(o=0,a=n.length;o<a;o++){var i=n[o];i&&"undefined"!==i&&!t[i]&&(de(e,i,!1),delete r[i])}for(o=0,a=s.length;o<a;o++){var l=s[o],c=!!t[l];l&&"undefined"!==l&&r[l]!==c&&c&&(de(e,l,!0),r[l]=c)}return r}(e,r,s):r===s?s:("ref"===t?o||r(e):"on:"===t.slice(0,3)?(o=t.slice(3),s&&e.removeEventListener(o,s),r&&e.addEventListener(o,r)):"oncapture:"===t.slice(0,10)?(o=t.slice(10),s&&e.removeEventListener(o,s,!0),r&&e.addEventListener(o,r,!0)):"on"===t.slice(0,2)?(o=t.slice(2).toLowerCase(),!(u=ee.has(o))&&s&&(s=Array.isArray(s)?s[0]:s,e.removeEventListener(o,s)),(u||r)&&(function(e,t,r,s){if(s)Array.isArray(r)?(e["$$"+t]=r[0],e[`$$${t}Data`]=r[1]):e["$$"+t]=r;else if(Array.isArray(r)){const s=r[0];e.addEventListener(t,r[0]=t=>s.call(e,r[1],t))}else e.addEventListener(t,r)}(e,o,r,u),u)&&ne([o])):"attr:"===t.slice(0,5)?oe(e,t.slice(5),r):(d="prop:"===t.slice(0,5))||(l=Y.has(t))||!n&&((c=function(e,t){return"object"==typeof(e=Q[e])?e[t]?e.$:void 0:e}(t,e.tagName))||(i=X.has(t)))||(a=e.nodeName.includes("-"))?(d&&(t=t.slice(5),i=!0),"class"===t||"className"===t?ae(e,r):!a||i||l?e[c||t]=r:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=r):(s=n&&-1<t.indexOf(":")&&te[t.split(":")[0]])?function(e,t,r,s){null==s?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,s)}(e,s,t,r):oe(e,J[t]||t,r),r)}function he(e){var t="$$"+e.type;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document});r;){var s=r[t];if(s&&!r.disabled){var n=r[t+"Data"];if(void 0!==n?s.call(r,n,e):s.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function pe(e,t,r,s,n){for(;"function"==typeof r;)r=r();if(t!==r){var o=typeof t,a=void 0!==s;if(e=a&&r[0]&&r[0].parentNode||e,"string"==o||"number"==o)if("number"==o&&(t=t.toString()),a){let n=r[0];n&&3===n.nodeType?n.data=t:n=document.createTextNode(t),r=me(e,r,s,n)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"==o)r=me(e,r,s);else{if("function"==o)return k((()=>{let n=t();for(;"function"==typeof n;)n=n();r=pe(e,n,r,s)})),()=>r;if(Array.isArray(t)){const i=[];if(o=r&&Array.isArray(r),fe(i,t,r,n))return k((()=>r=pe(e,i,r,s,!0))),()=>r;if(0===i.length){if(r=me(e,r,s),a)return r}else o?0===r.length?ge(e,i,s):function(e,t,r){let s=r.length,n=t.length,o=s,a=0,i=0,l=t[n-1].nextSibling,c=null;for(;a<n||i<o;)if(t[a]===r[i])a++,i++;else{for(;t[n-1]===r[o-1];)n--,o--;if(n===a)for(var d=o<s?i?r[i-1].nextSibling:r[o-i]:l;i<o;)e.insertBefore(r[i++],d);else if(o===i)for(;a<n;)c&&c.has(t[a])||t[a].remove(),a++;else if(t[a]===r[o-1]&&r[i]===t[n-1]){var u=t[--n].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--o],u),t[n]=r[o]}else{if(!c){c=new Map;let e=i;for(;e<o;)c.set(r[e],e++)}var h=c.get(t[a]);if(null!=h)if(i<h&&h<o){let s,l=a,d=1;for(;++l<n&&l<o&&null!=(s=c.get(t[l]))&&s===h+d;)d++;if(d>h-i)for(var p=t[a];i<h;)e.insertBefore(r[i++],p);else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}(e,r,i):(r&&me(e),ge(e,i));r=i}else if(t instanceof Node){if(Array.isArray(r)){if(a)return r=me(e,r,s,t);me(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}else console.warn("Unrecognized value. Skipped inserting",t)}}return r}function fe(e,t,r,s){let n=!1;for(let a=0,i=t.length;a<i;a++){let i=t[a],l=r&&r[a];if(i instanceof Node)e.push(i);else if(null!=i&&!0!==i&&!1!==i)if(Array.isArray(i))n=fe(e,i,l)||n;else if("function"==typeof i)if(s){for(;"function"==typeof i;)i=i();n=fe(e,Array.isArray(i)?i:[i],Array.isArray(l)?l:[l])||n}else e.push(i),n=!0;else{var o=String(i);l&&3===l.nodeType?(l.data=o,e.push(l)):e.push(document.createTextNode(o))}}return n}function ge(e,t,r=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],r)}function me(e,t,r,s){if(void 0===r)return e.textContent="";var n=s||document.createTextNode("");if(t.length){let s=!1;for(let i=t.length-1;0<=i;i--){var o,a=t[i];n!==a?(o=a.parentNode===e,s||i?o&&a.remove():o?e.replaceChild(n,a):e.insertBefore(n,r)):s=!0}}else e.insertBefore(n,r);return[n]}function be(e){return(t,r)=>{const s=r.element;return w((n=>{const o=function(e){var t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const[n,o]=x(e[t[s]]);Object.defineProperty(r,t[s],{get:n,set(e){o((()=>e))}})}return r}(t);s.addPropertyChangedCallback(((e,t)=>o[e]=t)),s.addReleaseCallback((()=>{s.renderRoot.textContent="",n()}));var a=e(o,r);return ce(s.renderRoot,a)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return(t&&t.assignedSlot?t.assignedSlot:e)._$owner}(s))}}function ve(e,t,r){return 2===arguments.length&&(r=t,t={}),a(e,t)(be(r))}const ye={chatflowid:"",apiHost:void 0,chatflowConfig:void 0,theme:void 0,observersConfig:void 0};var we='/*! tailwindcss v3.3.1 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.25em}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\\201C""\\201D""\\2018""\\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){display:block;margin-bottom:2em;margin-top:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.3125rem;box-shadow:0 0 0 1px rgb(var(--tw-prose-kbd-shadows)/10%),0 3px 0 rgb(var(--tw-prose-kbd-shadows)/10%);color:var(--tw-prose-kbd);font-family:inherit;font-size:.875em;font-weight:500;padding:.1875em .375em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-kbd:#111827;--tw-prose-kbd-shadows:17 24 39;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-left:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.top-0{top:0}.z-0{z-index:0}.z-10{z-index:10}.z-40{z-index:40}.z-50{z-index:50}.z-\\[1001\\]{z-index:1001}.z-\\[1002\\]{z-index:1002}.float-right{float:right}.m-0{margin:0}.m-auto{margin:auto}.mx-4{margin-left:16px;margin-right:16px}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:8px;margin-top:8px}.my-4{margin-bottom:16px;margin-top:16px}.my-6{margin-bottom:24px;margin-top:24px}.-ml-1{margin-left:-4px}.mb-1{margin-bottom:4px}.mb-2{margin-bottom:8px}.mb-6{margin-bottom:24px}.ml-1{margin-left:4px}.ml-1\\.5{margin-left:6px}.ml-10{margin-left:40px}.ml-2{margin-left:8px}.ml-8{margin-left:32px}.ml-auto{margin-left:auto}.mr-1{margin-right:4px}.mr-10{margin-right:40px}.mr-2{margin-right:8px}.mr-3{margin-right:12px}.mr-4{margin-right:16px}.mr-\\[10px\\]{margin-right:10px}.mt-1{margin-top:4px}.mt-3{margin-top:12px}.mt-8{margin-top:32px}.line-clamp-3{-webkit-box-orient:vertical;-webkit-line-clamp:3;display:-webkit-box;overflow:hidden}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-10{height:40px}.h-12{height:48px}.h-14{height:56px}.h-2{height:8px}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-7{height:28px}.h-\\[50px\\]{height:50px}.h-\\[58px\\]{height:58px}.h-\\[90vh\\]{height:90vh}.h-auto{height:auto}.h-full{height:100%}.max-h-\\[128px\\]{max-height:128px}.max-h-\\[704px\\]{max-height:704px}.max-h-full{max-height:100%}.max-h-screen{max-height:100vh}.min-h-\\[50px\\]{min-height:50px}.min-h-\\[56px\\]{min-height:56px}.min-h-full{min-height:100%}.w-10{width:40px}.w-12{width:48px}.w-2{width:8px}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-7{width:28px}.w-\\[200px\\]{width:200px}.w-full{width:100%}.min-w-full{min-width:100%}.max-w-3xl{max-width:768px}.max-w-\\[128px\\]{max-width:128px}.max-w-\\[12rem\\]{max-width:12rem}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.flex-grow-0{flex-grow:0}.basis-auto{flex-basis:auto}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.flex-nowrap{flex-wrap:nowrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-2{gap:8px}.gap-3{gap:12px}.gap-x-6{-moz-column-gap:24px;column-gap:24px}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-scroll{overflow-y:scroll}.overscroll-contain{overscroll-behavior:contain}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:4px}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.rounded-md{border-radius:6px}.rounded-none{border-radius:0}.rounded-sm{border-radius:2px}.rounded-xl{border-radius:12px}.rounded-b{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.rounded-t{border-top-left-radius:4px;border-top-right-radius:4px}.rounded-br-none{border-bottom-right-radius:0}.border{border-width:1px}.border-0{border-width:0}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-\\[\\#eeeeee\\]{--tw-border-opacity:1;border-color:rgb(238 238 238/var(--tw-border-opacity))}.border-neutral-400{--tw-border-opacity:1;border-color:rgb(163 163 163/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-black\\/10{background-color:rgba(0,0,0,.1)}.bg-black\\/60{background-color:rgba(0,0,0,.6)}.bg-emerald-500{--tw-bg-opacity:1;background-color:rgb(16 185 129/var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-opacity-70{--tw-bg-opacity:0.7}.bg-cover{background-size:cover}.bg-center{background-position:50%}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-1{padding:4px}.p-2{padding:8px}.p-2\\.5{padding:10px}.p-4{padding:16px}.p-5{padding:20px}.p-6{padding:24px}.p-8{padding:32px}.px-1{padding-left:4px;padding-right:4px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.px-5{padding-left:20px;padding-right:20px}.px-\\[10px\\]{padding-left:10px;padding-right:10px}.py-0{padding-bottom:0;padding-top:0}.py-2{padding-bottom:8px;padding-top:8px}.py-3{padding-bottom:12px;padding-top:12px}.py-4{padding-bottom:16px;padding-top:16px}.py-\\[10px\\]{padding-bottom:10px;padding-top:10px}.pb-1{padding-bottom:4px}.pb-2{padding-bottom:8px}.pb-\\[10px\\]{padding-bottom:10px}.pl-4{padding-left:16px}.pr-0{padding-right:0}.pt-2{padding-top:8px}.pt-4{padding-top:16px}.pt-\\[6px\\]{padding-top:6px}.pt-\\[70px\\]{padding-top:70px}.text-left{text-align:left}.text-center{text-align:center}.text-3xl{font-size:30px;line-height:36px}.text-\\[13px\\]{font-size:13px}.text-base{font-size:16px;line-height:24px}.text-lg{font-size:18px;line-height:28px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.leading-none{line-height:1}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-transparent{color:transparent}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-md,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-150,.transition-transform{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-linear{transition-timing-function:linear}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--chatbot-container-bg-image:none;--chatbot-container-bg-color:transparent;--chatbot-container-font-family:"Open Sans";--chatbot-button-bg-color:#0042da;--chatbot-button-color:#fff;--chatbot-host-bubble-bg-color:#f7f8ff;--chatbot-host-bubble-color:#303235;--chatbot-guest-bubble-bg-color:#3b81f6;--chatbot-guest-bubble-color:#fff;--chatbot-input-bg-color:#fff;--chatbot-input-color:#303235;--chatbot-input-placeholder-color:#9095a0;--chatbot-header-bg-color:#fff;--chatbot-header-color:#303235;--chatbot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}a{color:#16bed7;font-weight:500}a:hover{text-decoration:underline}pre{word-wrap:break-word;font-size:13px;margin:5px;overflow:auto;padding:5px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;width:auto}.string{color:green}.number{color:#ff8c00}.boolean{color:blue}.null{color:#f0f}.key{color:#002b36}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--chatbot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}.slate-a{text-decoration:underline}.slate-html-container>div{min-height:24px}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:#9095a0!important;opacity:1!important}.text-input::placeholder{color:#9095a0!important;opacity:1!important}.chatbot-container{background-color:var(--chatbot-container-bg-color);background-image:var(--chatbot-container-bg-image);font-family:Open Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.file-annotation-button{background-color:#02a0a0c2;border:1px solid #02a0a0c2;border-radius:var(--chatbot-border-radius);color:var(--chatbot-button-color)}.chatbot-button{background-color:#0042da;border:1px solid #0042da;border-radius:var(--chatbot-border-radius);color:var(--chatbot-button-color)}.chatbot-button.selectable{border:1px solid #0042da}.chatbot-button.selectable,.chatbot-host-bubble{background-color:#f7f8ff;color:var(--chatbot-host-bubble-color)}.chatbot-host-bubble>.bubble-typing{background-color:#f7f8ff;border:var(--chatbot-host-bubble-border);border-radius:6px}.chatbot-host-bubble iframe,.chatbot-host-bubble img,.chatbot-host-bubble video{border-radius:var(--chatbot-border-radius)}.chatbot-guest-bubble{background-color:#3b81f6;border-radius:6px;color:var(--chatbot-guest-bubble-color)}.chatbot-input,.feedback-input{background-color:#fff;border-radius:var(--chatbot-border-radius);box-shadow:0 2px 6px -1px rgba(0,0,0,.1);color:#303235}.chatbot-input-error-message{color:#303235}.chatbot-button>.send-icon{fill:var(--chatbot-button-color);stroke:var(--chatbot-button-color)}.chatbot-chat-view{max-width:800px}.ping span{background-color:#0042da}.rating-icon-container svg{stroke:#0042da;fill:#f7f8ff;height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:#0042da}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{background-color:#0042da;border-radius:var(--chatbot-border-radius)}.total-files-indicator{background-color:#0042da;color:var(--chatbot-button-color);font-size:10px}.chatbot-upload-input{transition:border-color .1s ease-out}.chatbot-upload-input.dragging-over{border-color:#0042da}.secondary-button{background-color:#f7f8ff;border-radius:var(--chatbot-border-radius);color:var(--chatbot-host-bubble-color)}.chatbot-country-select{color:#303235}.chatbot-country-select,.chatbot-date-input{background-color:#fff;border-radius:var(--chatbot-border-radius)}.chatbot-date-input{color:#303235;color-scheme:light}.chatbot-popup-blocked-toast{border-radius:var(--chatbot-border-radius)}.messagelist{border-radius:.5rem;height:100%;overflow-y:scroll;width:100%}.messagelistloading{display:flex;justify-content:center;margin-top:1rem;width:100%}.usermessage{padding:1rem 1.5rem}.usermessagewaiting-light{background:linear-gradient(270deg,#ede7f6,#e3f2fd,#ede7f6);background-position:-100% 0;background-size:200% 200%}.usermessagewaiting-dark,.usermessagewaiting-light{animation:loading-gradient 2s ease-in-out infinite;animation-direction:alternate;animation-name:loading-gradient;padding:1rem 1.5rem}.usermessagewaiting-dark{background:linear-gradient(270deg,#2e2352,#1d3d60,#2e2352);background-position:-100% 0;background-size:200% 200%;color:#ececf1}@keyframes loading-gradient{0%{background-position:-100% 0}to{background-position:100% 0}}.apimessage{animation:fadein .5s;padding:1rem 1.5rem}@keyframes fadein{0%{opacity:0}to{opacity:1}}.apimessage,.usermessage,.usermessagewaiting{display:flex}.markdownanswer{line-height:1.75}.markdownanswer a:hover{opacity:.8}.markdownanswer a{color:#16bed7;font-weight:500}.markdownanswer code{color:#15cb19;font-weight:500;white-space:pre-wrap!important}.markdownanswer ol,.markdownanswer ul{margin:1rem}.boticon,.usericon{border-radius:1rem;margin-right:1rem}.markdownanswer h1,.markdownanswer h2,.markdownanswer h3{font-size:inherit}.center{flex-direction:column;padding:10px;position:relative}.center,.cloud{align-items:center;display:flex;justify-content:center}.cloud{border-radius:.5rem;height:calc(100% - 50px);width:400px}input,textarea{background-color:transparent;border:none;font-family:Poppins,sans-serif;padding:10px}@media (min-width:768px){.md\\:container{width:100%}@media (min-width:640px){.md\\:container{max-width:640px}}@media (min-width:768px){.md\\:container{max-width:768px}}@media (min-width:1024px){.md\\:container{max-width:1024px}}@media (min-width:1280px){.md\\:container{max-width:1280px}}@media (min-width:1536px){.md\\:container{max-width:1536px}}}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.focus\\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246/var(--tw-border-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246/var(--tw-ring-opacity))}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:bg-emerald-600:active{--tw-bg-opacity:1;background-color:rgb(5 150 105/var(--tw-bg-opacity))}.active\\:brightness-75:active{--tw-brightness:brightness(.75);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.group:hover .group-hover\\:flex{display:flex}@media (min-width:640px){.sm\\:right-5{right:20px}.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:w-\\[400px\\]{width:400px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:512px}.sm\\:p-0{padding:0}}@media (min-width:768px){.md\\:order-2{order:2}.md\\:w-2\\/5{width:40%}.md\\:w-3\\/5{width:60%}.md\\:flex-row{flex-direction:row}.md\\:justify-stretch{justify-content:stretch}.md\\:p-0{padding:0}.md\\:p-8{padding:32px}.md\\:pb-3{padding-bottom:12px}}';const xe=e=>null==e,ke=e=>null!=e,_e=async e=>{try{var t="string"==typeof e?e:e.url,r=await fetch(t,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&ke(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&ke(e.body)?JSON.stringify(e.body):void 0});let n;var s=r.headers.get("Content-Type");if(n=s&&s.includes("application/json")?await r.json():"string"!=typeof e&&"blob"===e.type?await r.blob():await r.text(),r.ok)return{data:n};{let e;throw e="object"==typeof n&&"error"in n?n.error:n||r.statusText}}catch(e){return console.error(e),{error:e}}},Ce=(e,t,r={})=>{var s=localStorage.getItem(e+"_EXTERNAL");r={...r};if(t&&(r.chatId=t),s)try{var n=JSON.parse(s);localStorage.setItem(e+"_EXTERNAL",JSON.stringify({...n,...r}))}catch(n){const t=s;r.chatId=t,localStorage.setItem(e+"_EXTERNAL",JSON.stringify(r))}else localStorage.setItem(e+"_EXTERNAL",JSON.stringify(r))},Se=e=>{if(!(e=localStorage.getItem(e+"_EXTERNAL")))return{};try{return JSON.parse(e)}catch(e){return{}}},Te=e=>e?"number"==typeof e?e:"small"===e?32:"medium"!==e&&"large"===e?64:48:48,Ee=e=>e?"number"==typeof e?e:"small"===e?32:"medium"!==e&&"large"===e?64:48:48,Pe=se('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),Ae=se('<img alt="Bubble button icon">'),Oe=se('<button part="button" class="fixed shadow-md rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in"><svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),$e=e=>{const t=Te(e.size),[r,s]=x({bottom:e.bottom??20,right:e.right??20});let n,o;const a=t=>{e.dragAndDrop&&(n=t.clientX,o=r().right,document.addEventListener("mousemove",i),document.addEventListener("mouseup",l))},i=a=>{a=n-a.clientX,a=o+a;var i=window.innerWidth-t;a={right:Math.min(Math.max(a,20),i),bottom:r().bottom};s(a),e.setButtonPosition(a)},l=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l)};{const s=Oe(),n=s.firstChild;return s.$$mousedown=a,s.$$click=()=>e.toggleBot(),s.style.setProperty("z-index","42424242"),t+"px"!=null?s.style.setProperty("width",t+"px"):s.style.removeProperty("width"),t+"px"!=null?s.style.setProperty("height",t+"px"):s.style.removeProperty("height"),ce(s,D(K,{get when(){return xe(e.customIconSrc)},keyed:!0,get children(){const r=Pe();return oe(r,"width",.6*t),oe(r,"height",.6*t),k((t=>{var s=e.iconColor??"white",n="stroke-2 fill-transparent absolute duration-200 transition "+(e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100");return s!==t._v$&&(null!=(t._v$=s)?r.style.setProperty("stroke",s):r.style.removeProperty("stroke")),n!==t._v$2&&oe(r,"class",t._v$2=n),t}),{_v$:void 0,_v$2:void 0}),r}}),n),ce(s,D(K,{get when(){return e.customIconSrc},get children(){const r=Ae();return.6*t+"px"!=null?r.style.setProperty("width",.6*t+"px"):r.style.removeProperty("width"),.6*t+"px"!=null?r.style.setProperty("height",.6*t+"px"):r.style.removeProperty("height"),k((t=>{var s=e.customIconSrc,n="rounded-full object-cover"+(e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100");return s!==t._v$3&&oe(r,"src",t._v$3=s),n!==t._v$4&&ae(r,t._v$4=n),t}),{_v$3:void 0,_v$4:void 0}),r}}),n),oe(n,"width",.6*t),oe(n,"height",.6*t),k((t=>{var o=e.backgroundColor??"#3B81F6",a=r().right+"px",i=r().bottom+"px",l=e.dragAndDrop?"grab":"pointer",c=e.iconColor??"white",d="absolute duration-200 transition "+(e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0");return o!==t._v$5&&(null!=(t._v$5=o)?s.style.setProperty("background-color",o):s.style.removeProperty("background-color")),a!==t._v$6&&(null!=(t._v$6=a)?s.style.setProperty("right",a):s.style.removeProperty("right")),i!==t._v$7&&(null!=(t._v$7=i)?s.style.setProperty("bottom",i):s.style.removeProperty("bottom")),l!==t._v$8&&(null!=(t._v$8=l)?s.style.setProperty("cursor",l):s.style.removeProperty("cursor")),c!==t._v$9&&(null!=(t._v$9=c)?n.style.setProperty("fill",c):n.style.removeProperty("fill")),d!==t._v$10&&oe(n,"class",t._v$10=d),t}),{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),s}};let Le;ne(["click","mousedown"]);const Re=new Uint8Array(16);function je(){if(Le=Le||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return Le(Re);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}const Ne=[];for(let e=0;e<256;++e)Ne.push((e+256).toString(16).slice(1));var Ie,Me,Be={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ze(e,t,r){if(Be.randomUUID&&!t&&!e)return Be.randomUUID();var s=(e=e||{}).random||(e.rng||je)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return Ne[e[t+0]]+Ne[e[t+1]]+Ne[e[t+2]]+Ne[e[t+3]]+"-"+Ne[e[t+4]]+Ne[e[t+5]]+"-"+Ne[e[t+6]]+Ne[e[t+7]]+"-"+Ne[e[t+8]]+Ne[e[t+9]]+"-"+Ne[e[t+10]]+Ne[e[t+11]]+Ne[e[t+12]]+Ne[e[t+13]]+Ne[e[t+14]]+Ne[e[t+15]]}(s)}const ze=({chatflowid:e,apiHost:t="http://localhost:3000",body:r})=>_e({method:"POST",url:t+"/api/v1/feedback/"+e,body:r}),He=({apiHost:e="http://localhost:3000",body:t})=>_e({method:"POST",url:e+"/api/v1/openai-assistants-file",body:t,type:"blob"}),De=se('<input class="focus:outline-none bg-transparent px-4 py-0 flex-1 min-w-full w-full h-full max-h-[128px] text-input disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 " type="text">'),Ue=e=>{const[t,r]=W(e,["ref","onInput"]),[,s]=x(56);return(n=De()).$$input=r=>{e.ref&&(""===r.currentTarget.value?s(56):s(r.currentTarget.scrollHeight-24),r.currentTarget.scrollTo(0,r.currentTarget.scrollHeight),t.onInput(r.currentTarget.value))},"function"==typeof(o=e.ref)?le(o,n):e.ref=n,ie(n,F({get disabled(){return e.disabled},get maxlength(){return e.maxlength},get style(){return{"font-size":e.fontSize?e.fontSize+"px":"16px",resize:"none"}}},r),!1,!1),n;var n,o},[Ve,qe]=(ne(["input"]),x()),Fe=se('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh w-4 h-4" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2">'),We=e=>{{const t=Fe();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},Ge=se('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh w-4 h-4" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 14V2"></path><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z">'),Ke=e=>{{const t=Ge();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},Xe=se('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh w-4 h-4" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 10v12"></path><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z">'),Ye=e=>{{const t=Xe();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},Je=se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"></path><line x1="16" x2="22" y1="5" y2="5"></line><line x1="19" x2="19" y1="2" y2="8"></line><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21">'),Qe=e=>{{const t=Je();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},et=se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="1">'),tt=e=>{{const t=et();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},rt=se('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4">'),st=e=>rt(),nt=se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22">'),ot=e=>{{const t=nt();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},at=se('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" role="img" fill="currentColor"><path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z">'),it=e=>{const t=e.size||24;return oe(r=at(),"width",t),oe(r,"height",t),ie(r,F({get class(){return"size-4 "+e.class}},e),!0,!0),r;var r},lt=se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17">'),ct=e=>{{const t=lt();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},dt=se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12">'),ut=e=>{{const t=dt();return k((()=>oe(t,"stroke",e.color??"#3B81F6"))),t}},ht=se('<button type="submit">'),pt=se('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),ft=e=>{return ie(t=ht(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"px-4 justify-center font-semibold focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"}}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(mt,{class:"text-white"})},get children(){return D(it,{get color(){return e.sendButtonColor},get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}})}})),t;var t},gt=e=>{return ie(t=ht(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"py-2 px-4 justify-center font-semibold focus:outline-none text-black flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"},title:"New Chat"}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(mt,{class:"text-white"})},get children(){return D(st,{get color(){return e.sendButtonColor},get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}})}})),t;var t},mt=e=>{return ie(t=pt(),F(e,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t},bt=se('<button type="submit">'),vt=se('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),yt=e=>{return ie(t=bt(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"py-2 pl-4 pr-0 justify-center font-semibold focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"}}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(wt,{class:"text-white"})},get children(){return D(Qe,{get color(){return e.buttonColor}})}})),t;var t},wt=e=>{return ie(t=vt(),F(e,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t},xt=se('<button type="submit">'),kt=se('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),_t=e=>{return ie(t=xt(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"px-4 justify-center font-semibold focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"}}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(Ct,{class:"text-white"})},get children(){return D(ot,{get color(){return e.buttonColor}})}})),t;var t},Ct=e=>{return ie(t=kt(),F(e,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t},St=se('<div class="w-full px-4 pt-4 pb-1 text-red-500 text-sm" data-testid="warning-message">'),Tt=se("<span>Send"),Et=se('<div class="w-full h-auto max-h-[128px] min-h-[50px] flex flex-col items-end justify-between chatbot-input border border-neutral-400" data-testid="input"><div class="w-full flex items-center justify-between"><div class="flex-grow">'),Pt=se("<span>Image Upload"),At=se('<input multiple type="file">'),Ot=se("<span>Record Audio"),$t=e=>{const[t,r]=x(e.defaultValue??""),[s,n]=x(!0),[o,a]=x("");let i,l;const c=t=>{var s=t.length;e.maxChars&&s<2?n(!0):e.maxChars&&s>e.maxChars?(a(e.maxCharsWarningMessage??`You exceeded the characters limit. Please input less than ${e.maxChars} characters.`),n(!0)):(r(t),a(""),n(!1))},d=()=>{""!==t()&&""===o()&&i?.reportValidity()&&e.onSubmit(t()),r("")},u=e=>{var t=e.isComposing||229===e.keyCode;"Enter"!==e.key||t||""!==o()||d()},h=()=>{l&&l.click()},p=(_((()=>{e.disabled||Ve()||!i||i.focus()})),T((()=>{!Ve()&&i&&i.focus()})),t=>{e.handleFileChange(t),t.target&&(t.target.value="")});{const r=Et(),n=r.firstChild,a=n.firstChild;return r.$$keydown=u,r.style.setProperty("margin","auto"),ce(r,D(K,{get when(){return""!==o()},get children(){var e=St();return ce(e,o),e}}),n),ce(n,(()=>{const t=C((()=>!!e.uploadsConfig?.isImageUploadAllowed));return()=>{return t()?[D(yt,{get buttonColor(){return e.sendButtonColor},type:"button",class:"m-0 h-10 flex items-center justify-center",get isDisabled(){return e.disabled||s()},"on:click":h,get children(){var e=Pt();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}),((r=At()).addEventListener("change",p),"function"==typeof(n=l)?le(n,r):l=r,r.style.setProperty("display","none"),r)]:null;var r,n}})(),a),ce(a,D(Ue,{ref(e){"function"==typeof i?i(e):i=e},onInput:c,get maxlength(){return e.maxChars},get value(){return t()},get fontSize(){return e.fontSize},get disabled(){return e.disabled},get placeholder(){return e.placeholder??"Type your question"}})),ce(n,(()=>{const t=C((()=>!!e.uploadsConfig?.isSpeechToTextEnabled));return()=>t()?D(_t,{get buttonColor(){return e.sendButtonColor},type:"button",class:"m-0 start-recording-button h-12 flex items-center justify-center",get isDisabled(){return e.disabled||s()},get"on:click"(){return e.onMicrophoneClicked},get children(){var e=Ot();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}):null})(),null),ce(n,D(ft,{get sendButtonColor(){return e.sendButtonColor},type:"button",get isDisabled(){return e.disabled||s()},class:"m-0 h-12 flex items-center justify-center","on:click":d,get children(){var e=Tt();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}),null),k((t=>{var s=e.backgroundColor??"#ffffff",n=e.textColor??"#303235";return s!==t._v$&&(null!=(t._v$=s)?r.style.setProperty("background-color",s):r.style.removeProperty("background-color")),n!==t._v$2&&(null!=(t._v$2=n)?r.style.setProperty("color",n):r.style.removeProperty("color")),t}),{_v$:void 0,_v$2:void 0}),r}},Lt=(ne(["keydown"]),se('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></circle></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5">')),Rt=()=>{{const e=Lt(),t=e.firstChild;return k((r=>{var s="flex justify-center items-center rounded-full text-white relative flex-shrink-0 "+(Ve()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),n="absolute top-0 left-0 "+(Ve()?" w-6 h-6 text-sm":"w-full h-full text-xl");return s!==r._v$&&ae(e,r._v$=s),n!==r._v$2&&oe(t,"class",r._v$2=n),r}),{_v$:void 0,_v$2:void 0}),e}},jt=se('<figure class="flex justify-center items-center relative mt-3 flex-shrink-0 w-5 h-5 ml-2"><img alt="Bot avatar" class="w-full h-full object-contain">'),Nt=e=>{const[t,r]=x(e.initialAvatarSrc);return _((()=>{t()?.startsWith("{{")&&e.initialAvatarSrc?.startsWith("http")&&r(e.initialAvatarSrc)})),D(K,{get when(){return(e=>null!=e&&""!==e)(t())},keyed:!0,get fallback(){return D(Rt,{})},get children(){const e=jt(),r=e.firstChild;return k((()=>oe(r,"src",t()))),e}})};class It{source;flags;constructor(e,t=""){this.source=e.source,this.flags=t}setGroup(e,t){let r="string"==typeof t?t:t.source;return r=r.replace(/(^|[^\[])\^/g,"$1"),this.source=this.source.replace(e,r),this}getRegexp(){return new RegExp(this.source,this.flags)}}const Mt=/[&<>"']/,Bt=/[&<>"']/g,Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zt=/[<>"']|&(?!#?\w+;)/,Ht=/[<>"']|&(?!#?\w+;)/g;function Dt(e,t){if(t){if(Mt.test(e))return e.replace(Bt,(e=>Zt[e]))}else if(zt.test(e))return e.replace(Ht,(e=>Zt[e]));return e}function Ut(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var Vt;(Vt=Ie=Ie||{})[Vt.space=1]="space",Vt[Vt.text=2]="text",Vt[Vt.paragraph=3]="paragraph",Vt[Vt.heading=4]="heading",Vt[Vt.listStart=5]="listStart",Vt[Vt.listEnd=6]="listEnd",Vt[Vt.looseItemStart=7]="looseItemStart",Vt[Vt.looseItemEnd=8]="looseItemEnd",Vt[Vt.listItemStart=9]="listItemStart",Vt[Vt.listItemEnd=10]="listItemEnd",Vt[Vt.blockquoteStart=11]="blockquoteStart",Vt[Vt.blockquoteEnd=12]="blockquoteEnd",Vt[Vt.code=13]="code",Vt[Vt.table=14]="table",Vt[Vt.html=15]="html",Vt[Vt.hr=16]="hr";class qt{gfm=!0;tables=!0;breaks=!1;pedantic=!1;sanitize=!1;sanitizer;mangle=!0;smartLists=!1;silent=!1;highlight;langPrefix="lang-";smartypants=!1;headerPrefix="";renderer;xhtml=!1;escape=Dt;unescape=Ut;isNoP}class Ft{options;constructor(e){this.options=e||Kt.options}code(e,t,r,s){this.options.highlight&&null!=(n=this.options.highlight(e,t))&&n!==e&&(r=!0,e=n);var n=r?e:this.options.escape(e,!0);return t?`\n<pre><code class="${this.options.langPrefix+this.options.escape(t,!0)}">${n}\n</code></pre>\n`:`\n<pre><code>${n}\n</code></pre>\n`}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r){return`<h${t} id="${this.options.headerPrefix+r.toLowerCase().replace(/[^\w]+/g,"-")}">${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t){return`\n<${t=t?"ol":"ul"}>\n${e}</${t}>\n`}listitem(e){return"<li>"+e+"</li>\n"}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return`\n<table>\n<thead>\n${e}</thead>\n<tbody>\n${t}</tbody>\n</table>\n`}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' style="text-align:'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,r){if(this.options.sanitize){let s;try{s=decodeURIComponent(this.options.unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return r}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:")||0===s.indexOf("data:"))return r}let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+">"+r+"</a>"}image(e,t,r){let s='<img src="'+e+'" alt="'+r+'"';return t&&(s+=' title="'+t+'"'),s+(this.options.xhtml?"/>":">")}text(e){return e}}class Wt{staticThis;links;options;static rulesBase=null;static rulesPedantic=null;static rulesGfm=null;static rulesBreaks=null;rules;renderer;inLink;hasRulesGfm;ruleCallbacks;constructor(e,t,r=Kt.options,s){if(this.staticThis=e,this.links=t,this.options=r,this.renderer=s||this.options.renderer||new Ft(this.options),!this.links)throw new Error("InlineLexer requires 'links' parameter.");this.setRules()}static output(e,t,r){return new this(this,t,r).output(e)}static getRulesBase(){var e;return this.rulesBase||((e={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/}).link=new It(e.link).setGroup("inside",e._inside).setGroup("href",e._href).getRegexp(),e.reflink=new It(e.reflink).setGroup("inside",e._inside).getRegexp(),this.rulesBase=e)}static getRulesPedantic(){return this.rulesPedantic||(this.rulesPedantic={...this.getRulesBase(),strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/})}static getRulesGfm(){var e,t,r;return this.rulesGfm||(e=this.getRulesBase(),t=new It(e.escape).setGroup("])","~|])").getRegexp(),r=new It(e.text).setGroup("]|","~]|").setGroup("|","|https?://|").getRegexp(),this.rulesGfm={...e,escape:t,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:r})}static getRulesBreaks(){var e,t;return this.rulesBreaks||(e=this.getRulesGfm(),t=this.getRulesGfm(),this.rulesBreaks={...t,br:new It(e.br).setGroup("{2,}","*").getRegexp(),text:new It(t.text).setGroup("{2,}","*").getRegexp()})}setRules(){this.options.gfm?this.options.breaks?this.rules=this.staticThis.getRulesBreaks():this.rules=this.staticThis.getRulesGfm():this.options.pedantic?this.rules=this.staticThis.getRulesPedantic():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.url}output(e){let t,r="";for(;e;)if(t=this.rules.escape.exec(e))e=e.substring(t[0].length),r+=t[1];else if(t=this.rules.autolink.exec(e)){let s,n;e=e.substring(t[0].length),n="@"===t[2]?(s=this.options.escape(":"===t[1].charAt(6)?this.mangle(t[1].substring(7)):this.mangle(t[1])),this.mangle("mailto:")+s):s=this.options.escape(t[1]),r+=this.renderer.link(n,null,s)}else if(!this.inLink&&this.hasRulesGfm&&(t=this.rules.url.exec(e))){e=e.substring(t[0].length);var s=this.options.escape(t[1]);r+=this.renderer.link(s,null,s)}else if(t=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(t[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(t[0])&&(this.inLink=!1),e=e.substring(t[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):this.options.escape(t[0]):t[0];else if(t=this.rules.link.exec(e))e=e.substring(t[0].length),this.inLink=!0,r+=this.outputLink(t,{href:t[2],title:t[3]}),this.inLink=!1;else if(t=(t=this.rules.reflink.exec(e))||this.rules.nolink.exec(e)){e=e.substring(t[0].length);s=(t[2]||t[1]).replace(/\s+/g," ");var n=this.links[s.toLowerCase()];n&&n.href?(this.inLink=!0,r+=this.outputLink(t,n),this.inLink=!1):(r+=t[0].charAt(0),e=t[0].substring(1)+e)}else if(t=this.rules.strong.exec(e))e=e.substring(t[0].length),r+=this.renderer.strong(this.output(t[2]||t[1]));else if(t=this.rules.em.exec(e))e=e.substring(t[0].length),r+=this.renderer.em(this.output(t[2]||t[1]));else if(t=this.rules.code.exec(e))e=e.substring(t[0].length),r+=this.renderer.codespan(this.options.escape(t[2].trim(),!0));else if(t=this.rules.br.exec(e))e=e.substring(t[0].length),r+=this.renderer.br();else if(this.hasRulesGfm&&(t=this.rules.del.exec(e)))e=e.substring(t[0].length),r+=this.renderer.del(this.output(t[1]));else if(t=this.rules.text.exec(e))e=e.substring(t[0].length),r+=this.renderer.text(this.options.escape(this.smartypants(t[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return r}outputLink(e,t){var r=this.options.escape(t.href);t=t.title?this.options.escape(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(r,t,this.output(e[1])):this.renderer.image(r,t,this.options.escape(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/([{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/([{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e}mangle(e){if(!this.options.mangle)return e;let t="";var r=e.length;for(let s=0;s<r;s++){let r;.5<Math.random()&&(r="x"+e.charCodeAt(s).toString(16)),t+="&#"+r+";"}return t}}class Gt{simpleRenderers=[];tokens;token;inlineLexer;options;renderer;line=0;constructor(e){this.tokens=[],this.token=null,this.options=e||Kt.options,this.renderer=this.options.renderer||new Ft(this.options)}static parse(e,t,r){return new this(r).parse(t,e)}parse(e,t){this.inlineLexer=new Wt(Wt,e,this.options,this.renderer),this.tokens=t.reverse();let r="";for(;this.next();)r+=this.tok();return r}debug(e,t){this.inlineLexer=new Wt(Wt,e,this.options,this.renderer),this.tokens=t.reverse();let r="";for(;this.next();){var s=this.tok();this.token.line=this.line+=s.split("\n").length-1,r+=s}return r}next(){return this.token=this.tokens.pop()}getNextElement(){return this.tokens[this.tokens.length-1]}parseText(){let e=this.token.text;for(var t;(t=this.getNextElement())&&t.type==Ie.text;)e+="\n"+this.next().text;return this.inlineLexer.output(e)}tok(){switch(this.token.type){case Ie.space:return"";case Ie.paragraph:return this.renderer.paragraph(this.inlineLexer.output(this.token.text));case Ie.text:return this.options.isNoP?this.parseText():this.renderer.paragraph(this.parseText());case Ie.heading:return this.renderer.heading(this.inlineLexer.output(this.token.text),this.token.depth,this.token.text);case Ie.listStart:{let t="";for(var e=this.token.ordered;this.next().type!=Ie.listEnd;)t+=this.tok();return this.renderer.list(t,e)}case Ie.listItemStart:{let e="";for(;this.next().type!=Ie.listItemEnd;)e+=this.token.type==Ie.text?this.parseText():this.tok();return this.renderer.listitem(e)}case Ie.looseItemStart:{let e="";for(;this.next().type!=Ie.listItemEnd;)e+=this.tok();return this.renderer.listitem(e)}case Ie.code:return this.renderer.code(this.token.text,this.token.lang,this.token.escaped,this.token.meta);case Ie.table:{e="";let s,n="";s="";for(let e=0;e<this.token.header.length;e++){var t={header:!0,align:this.token.align[e]},r=this.inlineLexer.output(this.token.header[e]);s+=this.renderer.tablecell(r,t)}e+=this.renderer.tablerow(s);for(const e of this.token.cells){s="";for(let t=0;t<e.length;t++)s+=this.renderer.tablecell(this.inlineLexer.output(e[t]),{header:!1,align:this.token.align[t]});n+=this.renderer.tablerow(s)}return this.renderer.table(e,n)}case Ie.blockquoteStart:{let e="";for(;this.next().type!=Ie.blockquoteEnd;)e+=this.tok();return this.renderer.blockquote(e)}case Ie.hr:return this.renderer.hr();case Ie.html:return e=this.token.pre||this.options.pedantic?this.token.text:this.inlineLexer.output(this.token.text),this.renderer.html(e);default:if(this.simpleRenderers.length)for(let e=0;e<this.simpleRenderers.length;e++)if(this.token.type=="simpleRule"+(e+1))return this.simpleRenderers[e].call(this.renderer,this.token.execArr);if(e=`Token with "${this.token.type}" type was not found.`,!this.options.silent)throw new Error(e);console.log(e)}}}class Kt{static options=new qt;static simpleRenderers=[];static setOptions(e){return Object.assign(this.options,e),this}static setBlockRule(e,t=(()=>"")){return Xt.simpleRules.push(e),this.simpleRenderers.push(t),this}static parse(e,t){try{t={...this.options,...t};var{tokens:r,links:s}=this.callBlockLexer(e,t);return this.callParser(r,s,t)}catch(e){return this.callMe(e)}}static debug(e,t=this.options){var{tokens:e,links:r}=this.callBlockLexer(e,t);let s=e.slice();return(t=new Gt(t)).simpleRenderers=this.simpleRenderers,t=t.debug(r,e),{tokens:s=s.map((e=>{e.type=Ie[e.type]||e.type;var t=e.line;return delete e.line,t?{line:t,...e}:e})),links:r,result:t}}static callBlockLexer(e="",t){if("string"!=typeof e)throw new Error(`Expected that the 'src' parameter would have a 'string' type, got '${typeof e}'`);return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n").replace(/^ +$/gm,""),Xt.lex(e,t,!0)}static callParser(e,t,r){var s;return this.simpleRenderers.length?((s=new Gt(r)).simpleRenderers=this.simpleRenderers,s.parse(t,e)):Gt.parse(e,t,r)}static callMe(e){if(e.message+="\nPlease report this to https://github.com/ts-stack/markdown",this.options.silent)return"<p>An error occured:</p><pre>"+this.options.escape(e.message+"",!0)+"</pre>";throw e}}class Xt{staticThis;static simpleRules=[];static rulesBase=null;static rulesGfm=null;static rulesTables=null;rules;options;links={};tokens=[];hasRulesGfm;hasRulesTables;constructor(e,t){this.staticThis=e,this.options=t||Kt.options,this.setRules()}static lex(e,t,r,s){return new this(this,t).getTokens(e,r,s)}static getRulesBase(){var e,t;return this.rulesBase||((e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/}).item=new It(e.item,"gm").setGroup(/bull/g,e.bullet).getRegexp(),e.list=new It(e.list).setGroup(/bull/g,e.bullet).setGroup("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))").setGroup("def","\\n+(?="+e.def.source+")").getRegexp(),t="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",e.html=new It(e.html).setGroup("comment",/<!--[\s\S]*?-->/).setGroup("closed",/<(tag)[\s\S]+?<\/\1>/).setGroup("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/).setGroup(/tag/g,t).getRegexp(),e.paragraph=new It(e.paragraph).setGroup("hr",e.hr).setGroup("heading",e.heading).setGroup("lheading",e.lheading).setGroup("blockquote",e.blockquote).setGroup("tag","<"+t).setGroup("def",e.def).getRegexp(),this.rulesBase=e)}static getRulesGfm(){var e,t,r,s;return this.rulesGfm||(r=(t={...e=this.getRulesBase(),fences:/^ *(`{3,}|~{3,})[ \.]*((\S+)? *[^\n]*)\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}).fences.source.replace("\\1","\\2"),s=e.list.source.replace("\\1","\\3"),t.paragraph=new It(e.paragraph).setGroup("(?!",`(?!${r}|${s}|`).getRegexp(),this.rulesGfm=t)}static getRulesTable(){return this.rulesTables||(this.rulesTables={...this.getRulesGfm(),nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/})}setRules(){this.options.gfm?this.options.tables?this.rules=this.staticThis.getRulesTable():this.rules=this.staticThis.getRulesGfm():this.rules=this.staticThis.getRulesBase(),this.hasRulesGfm=void 0!==this.rules.fences,this.hasRulesTables=void 0!==this.rules.table}getTokens(e,t,r){let s,n=e;e:for(;n;)if((s=this.rules.newline.exec(n))&&(n=n.substring(s[0].length),1<s[0].length)&&this.tokens.push({type:Ie.space}),s=this.rules.code.exec(n)){n=n.substring(s[0].length);var o=s[0].replace(/^ {4}/gm,"");this.tokens.push({type:Ie.code,text:this.options.pedantic?o:o.replace(/\n+$/,"")})}else if(this.hasRulesGfm&&(s=this.rules.fences.exec(n)))n=n.substring(s[0].length),this.tokens.push({type:Ie.code,meta:s[2],lang:s[3],text:s[4]||""});else if(s=this.rules.heading.exec(n))n=n.substring(s[0].length),this.tokens.push({type:Ie.heading,depth:s[1].length,text:s[2]});else if(t&&this.hasRulesTables&&(s=this.rules.nptable.exec(n))){n=n.substring(s[0].length);var a={type:Ie.table,header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let e=0;e<a.align.length;e++)/^ *-+: *$/.test(a.align[e])?a.align[e]="right":/^ *:-+: *$/.test(a.align[e])?a.align[e]="center":/^ *:-+ *$/.test(a.align[e])?a.align[e]="left":a.align[e]=null;var i=s[3].replace(/\n$/,"").split("\n");for(let e=0;e<i.length;e++)a.cells[e]=i[e].split(/ *\| */);this.tokens.push(a)}else if(s=this.rules.lheading.exec(n))n=n.substring(s[0].length),this.tokens.push({type:Ie.heading,depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(n))n=n.substring(s[0].length),this.tokens.push({type:Ie.hr});else if(s=this.rules.blockquote.exec(n))n=n.substring(s[0].length),this.tokens.push({type:Ie.blockquoteStart}),o=s[0].replace(/^ *> ?/gm,""),this.getTokens(o),this.tokens.push({type:Ie.blockquoteEnd});else if(s=this.rules.list.exec(n)){n=n.substring(s[0].length);var l,c=s[2],d=(this.tokens.push({type:Ie.listStart,ordered:1<c.length}),s[0].match(this.rules.item)),u=d.length;let e,t=!1;for(let s=0;s<u;s++){let o=d[s];l=o.length,-1!==(o=o.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+l+"}","gm"),"")),!this.options.smartLists||s===u-1||c===(l=this.staticThis.getRulesBase().bullet.exec(d[s+1])[0])||1<c.length&&1<l.length||(n=d.slice(s+1).join("\n")+n,s=u-1),e=t||/\n\n(?!\s*$)/.test(o),s!==u-1&&(t="\n"===o.charAt(o.length-1),e=e||t),this.tokens.push({type:e?Ie.looseItemStart:Ie.listItemStart}),this.getTokens(o,!1,r),this.tokens.push({type:Ie.listItemEnd})}this.tokens.push({type:Ie.listEnd})}else if(s=this.rules.html.exec(n)){n=n.substring(s[0].length);var h=s[1];this.tokens.push({type:this.options.sanitize?Ie.paragraph:Ie.html,pre:!this.options.sanitizer&&("pre"===h||"script"===h||"style"===h),text:s[0]})}else if(t&&(s=this.rules.def.exec(n)))n=n.substring(s[0].length),this.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&this.hasRulesTables&&(s=this.rules.table.exec(n))){n=n.substring(s[0].length);var p={type:Ie.table,header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:[]};for(let e=0;e<p.align.length;e++)/^ *-+: *$/.test(p.align[e])?p.align[e]="right":/^ *:-+: *$/.test(p.align[e])?p.align[e]="center":/^ *:-+ *$/.test(p.align[e])?p.align[e]="left":p.align[e]=null;var f=s[3].replace(/(?: *\| *)?\n$/,"").split("\n");for(let e=0;e<f.length;e++)p.cells[e]=f[e].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(p)}else{if(this.staticThis.simpleRules.length){var g=this.staticThis.simpleRules;for(let e=0;e<g.length;e++)if(s=g[e].exec(n)){n=n.substring(s[0].length);var m="simpleRule"+(e+1);this.tokens.push({type:m,execArr:s});continue e}}if(t&&(s=this.rules.paragraph.exec(n)))n=n.substring(s[0].length),"\n"===s[1].slice(-1)?this.tokens.push({type:Ie.paragraph,text:s[1].slice(0,-1)}):this.tokens.push({type:0<this.tokens.length?Ie.paragraph:Ie.text,text:s[1]});else if(s=this.rules.text.exec(n))n=n.substring(s[0].length),this.tokens.push({type:Ie.text,text:s[0]});else if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0)+`, near text '${n.slice(0,30)}...'`)}return{tokens:this.tokens,links:this.links}}}const Yt=se('<div class="flex justify-end mb-6 items-end guest-container ml-10"><div class="max-w-full flex flex-col justify-center items-start chatbot-guest-bubble px-4 py-2 gap-2 mr-2 rounded-lg rounded-br-none" data-testid="guest-bubble">'),Jt=se('<div class="flex flex-col items-start flex-wrap w-full gap-2">'),Qt=se('<div class="flex items-center justify-center max-w-[128px] mr-[10px] p-0 m-0"><img class="w-full h-full bg-cover">'),er=se('<audio class="w-[200px] h-10 block bg-cover bg-center rounded-none text-transparent" controls>Your browser does not support the &lt;audio&gt; tag.<source>'),tr=se('<span class="mr-2 whitespace-pre-wrap">'),rr=(Kt.setOptions({isNoP:!0}),e=>{let t;T((()=>{t&&(t.innerHTML=Kt.parse(e.message.message))}));{const r=Yt(),s=r.firstChild;return ce(s,(()=>{const t=C((()=>!!(e.message.fileUploads&&0<e.message.fileUploads.length)));return()=>{return t()&&(ce(r=Jt(),D(G,{get each(){return e.message.fileUploads},children:t=>{var r=`${e.apiHost}/api/v1/get-upload-file?chatflowId=${e.chatflowid}&chatId=${e.chatId}&fileName=`+t.name;const s=t.data??r;return C((()=>{const e=C((()=>!(!t.mime||!t.mime.startsWith("image/"))));return()=>{if(e())return oe((r=Qt()).firstChild,"src",s),r;{const e=er(),r=e.firstChild.nextSibling;return oe(r,"src",s),k((()=>oe(r,"type",t.mime))),e}var r}})())}})),r);var r}})(),null),ce(s,(()=>{const r=C((()=>!!e.message.message));return()=>r()&&(()=>{const r=tr();return"function"==typeof t?le(t,r):t=r,k((()=>null!=(e.fontSize?e.fontSize+"px":"16")?r.style.setProperty("font-size",e.fontSize?e.fontSize+"px":"16"):r.style.removeProperty("font-size"))),r})()})(),null),ce(r,D(K,{get when(){return e.showAvatar},get children(){return D(Nt,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),k((t=>{var r=e.backgroundColor??"var(--chatbot-guest-bubble-bg-color, #3B81F6)",n=e.textColor??"var(--chatbot-guest-bubble-color, #ffffff)";return r!==t._v$&&(null!=(t._v$=r)?s.style.setProperty("background-color",r):s.style.removeProperty("background-color")),n!==t._v$2&&(null!=(t._v$2=n)?s.style.setProperty("color",n):s.style.removeProperty("color")),t}),{_v$:void 0,_v$2:void 0}),r}}),sr=se("<button>"),nr=se('<button type="submit">'),or="#3B81F6",ar=e=>{return ie(t=sr(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"p-2 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"},title:"Copy to clipboard"}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(mt,{class:"text-white"})},get children(){return D(We,{get color(){return e.feedbackColor??or},get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}})}})),t;var t},ir=e=>{return ie(t=nr(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"p-2 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"},title:"Thumbs Up"}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(mt,{class:"text-white"})},get children(){return D(Ye,{get color(){return e.feedbackColor??or},get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}})}})),t;var t},lr=e=>{return ie(t=nr(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"p-2 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"},title:"Thumbs Down"}),!1,!0),ce(t,D(K,{get when(){return!e.isLoading},get fallback(){return D(mt,{class:"text-white"})},get children(){return D(Ke,{get color(){return e.feedbackColor??or},get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}})}})),t;var t},cr=se('<div class="flex overflow-x-hidden overflow-y-auto fixed inset-0 z-[1002] outline-none focus:outline-none justify-center items-center"><div class="relative w-full my-6 max-w-3xl mx-4"><div class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"><div class="flex items-center justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"><span class="whitespace-pre-wrap font-semibold max-w-full">Provide additional feedback</span><button class="p-1 ml-auto bg-transparent border-0 text-black float-right text-xl leading-none font-semibold outline-none focus:outline-none" type="button"><span class="bg-transparent block outline-none focus:outline-none"><svg xmlns="http://www.w3.org/2000/svg" class="text-black h-6 w-6" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></span></button></div><div class="relative p-6 flex-auto"><textarea rows="4" class="block p-2.5 rounded-lg border focus:ring-blue-500 focus:border-blue-500 bg-transparent flex-1 w-full feedback-input disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 font-normal" placeholder="What do you think of the response?"></textarea></div><div class="flex items-center justify-end p-4 border-t border-solid border-blueGray-200 rounded-b"><button class="bg-emerald-500 text-white active:bg-emerald-600 font-bold text-sm px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150" type="button">Submit Feedback'),dr=se('<div class="flex opacity-25 fixed inset-0 z-[1001] bg-black">'),ur="#303235",hr=e=>{const[t,r]=x("");let s;const n=()=>{""!==t()&&s?.reportValidity()&&e.onSubmit(t()),r("")},o=()=>{e.onClose()};return[(()=>{const a=cr(),i=a.firstChild.firstChild,l=i.firstChild,c=l.firstChild.nextSibling,d=l.nextSibling,u=d.firstChild,h=d.nextSibling.firstChild;l.style.setProperty("border","1px solid #eeeeee"),c.$$click=o;return"function"==typeof s?le(s,u):s=u,u.$$input=e=>(e=e.currentTarget.value,r(e)),u.style.setProperty("border","1px solid #eeeeee"),h.$$click=n,k((t=>{var r=e.backgroundColor??"#ffffff",s=e.textColor??ur,n=e.textColor??ur;return r!==t._v$&&(null!=(t._v$=r)?i.style.setProperty("background-color",r):i.style.removeProperty("background-color")),s!==t._v$2&&(null!=(t._v$2=s)?i.style.setProperty("color",s):i.style.removeProperty("color")),n!==t._v$3&&(null!=(t._v$3=n)?u.style.setProperty("color",n):u.style.removeProperty("color")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),k((()=>u.value=t())),a})(),dr()]},pr=(ne(["click","input"]),se('<div class="mb-6"><div class="flex flex-row justify-start items-start host-container mr-10"></div><div>')),fr=se('<span class="px-4 py-2 max-w-full chatbot-host-bubble prose" data-testid="host-bubble">'),gr=se('<div class="copied-message">Copied!'),mr=se('<div class="flex items-center px-1 pb-2">'),br="#3B81F6",vr=(Kt.setOptions({isNoP:!0}),e=>{let t;const[r,s]=x(""),[n,o]=x(""),[a,i]=x(!1),[l,c]=x(!1),[d,u]=x(e.feedbackColor??br),[h,p]=x(e.feedbackColor??br),f=async()=>{if(""===r()){var t={chatflowid:e.chatflowid,chatId:e.chatId,messageId:e.message?.messageId,rating:"THUMBS_UP",content:""};if((t=await ze({chatflowid:e.chatflowid,apiHost:e.apiHost,body:t})).data){let e="";(t=t.data)&&t.id&&(e=t.id),s("THUMBS_UP"),o(e),i(!0),u("#006400")}}},g=async()=>{if(""===r()){var t={chatflowid:e.chatflowid,chatId:e.chatId,messageId:e.message?.messageId,rating:"THUMBS_DOWN",content:""};if((t=await ze({chatflowid:e.chatflowid,apiHost:e.apiHost,body:t})).data){let e="";(t=t.data)&&t.id&&(e=t.id),s("THUMBS_DOWN"),o(e),i(!0),p("#8B0000")}}},m=async t=>{t={content:t},(await(({id:e,apiHost:t="http://localhost:3000",body:r})=>_e({method:"PUT",url:t+"/api/v1/feedback/"+e,body:r}))({id:n(),apiHost:e.apiHost,body:t})).data&&(o(""),i(!1))};T((()=>{if(t&&(t.innerHTML=Kt.parse(e.message.message),t.querySelectorAll("a").forEach((e=>{e.target="_blank"})),e.fileAnnotations)&&e.fileAnnotations.length)for(const n of e.fileAnnotations){var r=document.createElement("button"),s=(r.textContent=n.fileName,r.className="py-2 px-4 mb-2 justify-center font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 file-annotation-button",r.addEventListener("click",(function(){(async t=>{try{var r=await He({apiHost:e.apiHost,body:{question:"",fileName:t.fileName}}),s=new Blob([r.data]),n=window.URL.createObjectURL(s),o=document.createElement("a");o.href=n,o.download=t.fileName,document.body.appendChild(o),o.click(),o.remove()}catch(t){console.error("Download failed:",t)}})(n)})),document.createElement("div"));s.className="ml-2",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-download" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" /><path d="M7 11l5 5l5 -5" /><path d="M12 4l0 12" /></svg>',r.appendChild(s),t.appendChild(r)}}));{const s=pr(),n=s.firstChild,o=n.nextSibling;return ce(n,D(K,{get when(){return e.showAvatar},get children(){return D(Nt,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),ce(n,(()=>{const r=C((()=>!!e.message.message));return()=>r()&&(()=>{const r=fr();return"function"==typeof t?le(t,r):t=r,r.style.setProperty("--tw-prose-bullets","black"),r.style.setProperty("border-radius","6px"),k((t=>{var s=e.backgroundColor??"var(--chatbot-host-bubble-bg-color, #f7f8ff)",n=e.textColor??"var(--chatbot-host-bubble-color, #303235)",o=e.fontSize?e.fontSize+"px":"16";return s!==t._v$&&(null!=(t._v$=s)?r.style.setProperty("background-color",s):r.style.removeProperty("background-color")),n!==t._v$2&&(null!=(t._v$2=n)?r.style.setProperty("color",n):r.style.removeProperty("color")),o!==t._v$3&&(null!=(t._v$3=o)?r.style.setProperty("font-size",o):r.style.removeProperty("font-size")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()})(),null),ce(o,(()=>{const s=C((()=>!(!e.chatFeedbackStatus||!e.message.messageId)));return()=>{return s()&&[(ce(n=mr(),D(ar,{get feedbackColor(){return e.feedbackColor},onClick:()=>(async()=>{try{var e=t?t?.textContent:"";await navigator.clipboard.writeText(e||""),c(!0),setTimeout((()=>{c(!1)}),2e3)}catch(e){console.error("Error copying to clipboard:",e)}})()}),null),ce(n,D(K,{get when(){return l()},get children(){const t=gr();return k((()=>null!=(e.feedbackColor??br)?t.style.setProperty("color",e.feedbackColor??br):t.style.removeProperty("color"))),t}}),null),ce(n,(()=>{const e=C((()=>!(""!==r()&&"THUMBS_UP"!==r())));return()=>e()?D(ir,{get feedbackColor(){return d()},get isDisabled(){return"THUMBS_UP"===r()},get rating(){return r()},onClick:f}):null})(),null),ce(n,(()=>{const e=C((()=>!(""!==r()&&"THUMBS_DOWN"!==r())));return()=>e()?D(lr,{get feedbackColor(){return h()},get isDisabled(){return"THUMBS_DOWN"===r()},get rating(){return r()},onClick:g}):null})(),null),n),D(K,{get when(){return a()},get children(){return D(hr,{get isOpen(){return a()},onClose:()=>i(!1),onSubmit:m,get backgroundColor(){return e.backgroundColor},get textColor(){return e.textColor}})}})];var n}})()),k((()=>ae(o,e.showAvatar?"ml-8":""))),s}}),yr=se('<div class="flex items-center"><div class="w-2 h-2 mr-1 rounded-full bubble1"></div><div class="w-2 h-2 mr-1 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),wr=()=>yr(),xr=se('<div class="flex justify-start mb-2 items-start animate-fade-in host-container"><span class="px-4 py-4 ml-2 whitespace-pre-wrap max-w-full chatbot-host-bubble" data-testid="host-bubble">'),kr=()=>{return ce((e=xr()).firstChild,D(wr,{})),e;var e},_r=se('<article data-modal-target="defaultModal" data-modal-toggle="defaultModal" class="mb-2 animate-fade-in host-container hover:brightness-90 active:brightness-75 max-w-[12rem] bg-white bg-opacity-70 p-2 rounded-lg shadow-sm cursor-pointer">'),Cr=se('<h4 class="font-medium text-sm">'),Sr=se('<p><span class="underline text-blue-800 line-clamp-3 text-ellipsis overflow-hidden text-sm">'),Tr=e=>{return(t=_r()).$$click=()=>e.onSourceClick?.(),ce(t,(()=>{const t=C((()=>!!e.metadata.title));return()=>{return t()&&(ce(r=Cr(),(()=>e.metadata.title)),r);var r}})(),null),ce(t,(()=>{const t=C((()=>!!e.metadata.source));return()=>{return t()&&(ce((r=Sr()).firstChild,(()=>e.metadata.source)),r);var r}})(),null),t;var t},Er=(ne(["click"]),se('<div data-modal-target="defaultModal" data-modal-toggle="defaultModal" class="flex justify-start items-start animate-fade-in host-container hover:brightness-90 active:brightness-75"><span class="px-4 py-2 ml-1 whitespace-pre-wrap max-w-full chatbot-prompt-bubble cursor-pointer" data-testid="host-bubble">')),Pr=e=>{return r=(t=Er()).firstChild,t.$$click=()=>e.onPromptClick?.(),ce(r,(()=>e.prompt)),t;var t,r},Ar=(ne(["click"]),se('<span class="w-full text-center px-[10px] pt-[6px] pb-[10px] m-auto text-[13px]">&nbsp;<a target="_blank" rel="noopener noreferrer" class="lite-badge" id="lite-badge"><span>')),Or=se('<span class="w-full text-center px-[10px] pt-[6px] pb-[10px] m-auto text-[13px]">'),$r="#303235",Lr=e=>{let t,r;const s=r=>{r.forEach((r=>{r.removedNodes.forEach((r=>{"id"in r&&t&&"lite-badge"==r.id&&(console.log("Sorry, you can't remove the brand "),e.botContainer?.append(t))}))}))};return T((()=>{document&&e.botContainer&&(r=new MutationObserver(s)).observe(e.botContainer,{subtree:!1,childList:!0})})),E((()=>{r&&r.disconnect()})),[D(K,{get when(){return void 0===e.footer?.showFooter||null===e.footer?.showFooter||!0===e.footer?.showFooter},get children(){const r=Ar(),s=r.firstChild,n=s.nextSibling,o=n.firstChild;ce(r,(()=>e.footer?.text??"Powered by"),s);return"function"==typeof t?le(t,n):t=n,n.style.setProperty("font-weight","bold"),ce(o,(()=>e.footer?.company??"Flowise!")),k((t=>{var s=e.footer?.textColor??e.poweredByTextColor??$r,o=e.badgeBackgroundColor??"transparent",a=e.footer?.companyLink??"https://flowiseai.com",i=e.footer?.textColor??e.poweredByTextColor??$r;return s!==t._v$&&(null!=(t._v$=s)?r.style.setProperty("color",s):r.style.removeProperty("color")),o!==t._v$2&&(null!=(t._v$2=o)?r.style.setProperty("background-color",o):r.style.removeProperty("background-color")),a!==t._v$3&&oe(n,"href",t._v$3=a),i!==t._v$4&&(null!=(t._v$4=i)?n.style.setProperty("color",i):n.style.removeProperty("color")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r}}),D(K,{get when(){return!1===e.footer?.showFooter},get children(){const t=Or();return k((r=>{var s=e.footer?.textColor??e.poweredByTextColor??$r,n=e.badgeBackgroundColor??"#ffffff";return s!==r._v$5&&(null!=(r._v$5=s)?t.style.setProperty("color",s):t.style.removeProperty("color")),n!==r._v$6&&(null!=(r._v$6=n)?t.style.setProperty("background-color",n):t.style.removeProperty("background-color")),r}),{_v$5:void 0,_v$6:void 0}),t}})]},Rr=Object.create(null),jr=(Rr.open="0",Rr.close="1",Rr.ping="2",Rr.pong="3",Rr.message="4",Rr.upgrade="5",Rr.noop="6",Object.create(null)),Nr=(Object.keys(Rr).forEach((e=>{jr[Rr[e]]=e})),{type:"error",data:"parser error"}),Ir="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Mr="function"==typeof ArrayBuffer,Br=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Zr=({type:e,data:t},r,s)=>Ir&&t instanceof Blob?r?s(t):zr(t,s):Mr&&(t instanceof ArrayBuffer||Br(t))?r?s(t):zr(new Blob([t]),s):s(Rr[e]+(t||"")),zr=(e,t)=>{const r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function Hr(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Dr;const Ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vr="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)Vr[Ur.charCodeAt(e)]=e;const qr="function"==typeof ArrayBuffer,Fr=(e,t)=>{var r;return"string"!=typeof e?{type:"message",data:Gr(e,t)}:"b"===(r=e.charAt(0))?{type:"message",data:Wr(e.substring(1),t)}:jr[r]?1<e.length?{type:jr[r],data:e.substring(1)}:{type:jr[r]}:Nr},Wr=(e,t)=>{var r;return qr?(r=(e=>{let t,r,s,n,o,a=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(t=0;t<i;t+=4)r=Vr[e.charCodeAt(t)],s=Vr[e.charCodeAt(t+1)],n=Vr[e.charCodeAt(t+2)],o=Vr[e.charCodeAt(t+3)],d[l++]=r<<2|s>>4,d[l++]=(15&s)<<4|n>>2,d[l++]=(3&n)<<6|63&o;return c})(e),Gr(r,t)):{base64:!0,data:e}},Gr=(e,t)=>"blob"!==t?e instanceof ArrayBuffer?e:e.buffer:e instanceof Blob?e:new Blob([e]),Kr=String.fromCharCode(30);function Xr(){return new TransformStream({transform(e,t){!function(e,t){Ir&&e.data instanceof Blob?e.data.arrayBuffer().then(Hr).then(t):Mr&&(e.data instanceof ArrayBuffer||Br(e.data))?t(Hr(e.data)):Zr(e,!1,(e=>{Dr=Dr||new TextEncoder,t(Dr.encode(e))}))}(e,(r=>{var s,n=r.length;let o;n<126?(o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n)):n<65536?(o=new Uint8Array(3),(s=new DataView(o.buffer)).setUint8(0,126),s.setUint16(1,n)):(o=new Uint8Array(9),(s=new DataView(o.buffer)).setUint8(0,127),s.setBigUint64(1,BigInt(n))),e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(r)}))}})}let Yr;function Jr(e){return e.reduce(((e,t)=>e+t.length),0)}function Qr(e,t){if(e[0].length===t)return e.shift();var r=new Uint8Array(t);let s=0;for(let n=0;n<t;n++)r[n]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function es(e){if(e)return function(e){for(var t in es.prototype)e[t]=es.prototype[t];return e}(e)}es.prototype.on=es.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},es.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},es.prototype.off=es.prototype.removeListener=es.prototype.removeAllListeners=es.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var r=this._callbacks["$"+e];if(r)if(1==arguments.length)delete this._callbacks["$"+e];else{for(var s,n=0;n<r.length;n++)if((s=r[n])===t||s.fn===t){r.splice(n,1);break}0===r.length&&delete this._callbacks["$"+e]}}return this},es.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){s=0;for(var n=(r=r.slice(0)).length;s<n;++s)r[s].apply(this,t)}return this},es.prototype.emitReserved=es.prototype.emit,es.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},es.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ts="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function rs(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const ss=ts.setTimeout,ns=ts.clearTimeout;function os(e,t){t.useNativeTimers?(e.setTimeoutFn=ss.bind(ts),e.clearTimeoutFn=ns.bind(ts)):(e.setTimeoutFn=ts.setTimeout.bind(ts),e.clearTimeoutFn=ts.clearTimeout.bind(ts))}function as(e){return"string"==typeof e?function(e){let t,r=0;for(let s=0,n=e.length;s<n;s++)(t=e.charCodeAt(s))<128?r+=1:t<2048?r+=2:t<55296||57344<=t?r+=3:(s++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}class is extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class ls extends es{constructor(e){super(),this.writable=!1,os(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new is(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){e=Fr(e,this.socket.binaryType),this.onPacket(e)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){return(e=function(e){let t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e)).length?"?"+e:""}}const cs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ds=64,us={};let hs,ps=0,fs=0;function gs(e){let t="";for(;t=cs[e%ds]+t,0<(e=Math.floor(e/ds)););return t}function ms(){var e=gs(+new Date);return e!==hs?(ps=0,hs=e):e+"."+gs(ps++)}for(;fs<ds;fs++)us[cs[fs]]=fs;let bs=!1;try{bs="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Vt){}const vs=bs;function ys(e){e=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||vs))return new XMLHttpRequest}catch(e){}if(!e)try{return new(ts[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function ws(){}const xs=null!=new ys({xdomain:!1}).responseType;class ks extends es{constructor(e,t){super(),os(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e,t=rs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new ys(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(var s in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}catch(e){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null!=(e=this.opts.cookieJar)&&e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&null!=(e=this.opts.cookieJar)&&e.parseCookies(r),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=ks.requestsCount++,ks.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ws,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete ks.requests[this.index],this.xhr=null}}onLoad(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ks.requestsCount=0,ks.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",_s);else if("function"==typeof addEventListener){addEventListener("onpagehide"in ts?"pagehide":"unload",_s,!1)}function _s(){for(var e in ks.requests)ks.requests.hasOwnProperty(e)&&ks.requests[e].abort()}const Cs="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ss=ts.WebSocket||ts.MozWebSocket,Ts="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Es={websocket:class extends ls{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(this.check()){var e=this.uri(),t=this.opts.protocols,r=Ts?{}:rs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Ts?new Ss(e,t,r):t?new Ss(e,t):new Ss(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){var t=e[r];const s=r===e.length-1;Zr(t,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}s&&Cs((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ms()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Ss}},webtransport:class extends ls{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{var t=function(e,t){Yr=Yr||new TextDecoder;const r=[];let s=0,n=-1,o=!1;return new TransformStream({transform(a,i){for(r.push(a);;){if(0===s){if(Jr(r)<1)break;var l=Qr(r,1);o=128==(128&l[0]),n=127&l[0],s=n<126?3:126===n?1:2}else if(1===s){if(Jr(r)<2)break;l=Qr(r,2),n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(2===s){if(Jr(r)<8)break;var c=Qr(r,8),d=(c=new DataView(c.buffer,c.byteOffset,c.length)).getUint32(0);if(d>Math.pow(2,21)-1){i.enqueue(Nr);break}n=d*Math.pow(2,32)+c.getUint32(4),s=3}else{if(Jr(r)<n)break;d=Qr(r,n),i.enqueue(Fr(o?d:Yr.decode(d),t)),s=0}if(0===n||n>e){i.enqueue(Nr);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType);const r=e.readable.pipeThrough(t).getReader();(t=Xr()).readable.pipeTo(e.writable),this.writer=t.writable.getWriter();const s=()=>{r.read().then((({done:e,value:t})=>{e||(this.onPacket(t),s())})).catch((e=>{}))};s(),e={type:"open"},this.query.sid&&(e.data=`{"sid":"${this.query.sid}"}`),this.writer.write(e).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){var t=e[r];const s=r===e.length-1;this.writer.write(t).then((()=>{s&&Cs((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null!=(e=this.transport)&&e.close()}},polling:class extends ls{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){var t="https:"===location.protocol;let r=location.port;r=r||(t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}t=e&&e.forceBase64,this.supportsBinary=xs&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{var r=e.split(Kr),s=[];for(let e=0;e<r.length;e++){var n=Fr(r[e],t);if(s.push(n),"error"===n.type)break}return s})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState)&&this.poll()}doClose(){var e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,s=new Array(r);let n=0;e.forEach(((e,o)=>{Zr(e,!1,(e=>{s[o]=e,++n===r&&t(s.join(Kr))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ms()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ks(this.uri(),e)}doWrite(e,t){(e=this.request({method:"POST",data:e})).on("success",t),e.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){var e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Ps=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,As=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Os(e){var t=e,r=e.indexOf("["),s=e.indexOf("]");-1!=r&&-1!=s&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let n=Ps.exec(e||""),o={},a=14;for(;a--;)o[As[a]]=n[a]||"";return-1!=r&&-1!=s&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var r=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,s){t&&(r[t]=s)})),r}(0,o.query),o}let $s=class e extends es{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=Os(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Os(t.host).host),os(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){var t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){var s=r[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname)&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1)),this.open()}createTransport(e){var t=((t=Object.assign({},this.opts.query)).EIO=4,t.transport=e,this.id&&(t.sid=this.id),Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]));return new Es[e](t)}open(){let t;if(this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(t){let r=this.createTransport(t),s=!1;e.priorWebsocketSuccess=!1;const n=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(t=>{s||("pong"===t.type&&"probe"===t.data?(this.upgrading=!0,this.emitReserved("upgrading",r),r&&(e.priorWebsocketSuccess="websocket"===r.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})))):((t=new Error("probe error")).transport=r.name,this.emitReserved("upgradeError",t)))})))};function o(){s||(s=!0,d(),r.close(),r=null)}const a=e=>{(e=new Error("probe error: "+e)).transport=r.name,o(),this.emitReserved("upgradeError",e)};function i(){a("transport closed")}function l(){a("socket closed")}function c(e){r&&e.name!==r.name&&o()}const d=()=>{r.removeListener("open",n),r.removeListener("error",a),r.removeListener("close",i),this.off("close",l),this.off("upgrading",c)};r.once("open",n),r.once("error",a),r.once("close",i),this.once("close",l),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||r.open()}),200):r.open()}onOpen(){if(this.readyState="open",e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;for(var t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){var e;"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(e=this.getWritablePackets(),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush"))}getWritablePackets(){if(this.maxPayload&&"polling"===this.transport.name&&1<this.writeBuffer.length){let t=1;for(let r=0;r<this.writeBuffer.length;r++){var e=this.writeBuffer[r].data;if(e&&(t+=as(e)),0<r&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){"function"==typeof t&&(s=t,t=void 0),"function"==typeof r&&(s=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((r=r||{}).compress=!1!==r.compress,this.emitReserved("packetCreate",e={type:e,data:t,options:r}),this.writeBuffer.push(e),s&&this.once("flush",s),this.flush())}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{(this.upgrading?r:e)()})):(this.upgrading?r:e)()),this}onError(t){e.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){var t=[];let r=0;for(var s=e.length;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};$s.protocol=4;const Ls="function"==typeof ArrayBuffer,Rs=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,js=Object.prototype.toString,Ns="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===js.call(Blob),Is="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===js.call(File);function Ms(e){return Ls&&(e instanceof ArrayBuffer||Rs(e))||Ns&&e instanceof Blob||Is&&e instanceof File}function Bs(e,t){if(e&&"object"==typeof e)if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Bs(e[t]))return!0}else{if(Ms(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Bs(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Bs(e[t]))return!0}return!1}function Zs(e){var t=[],r=e.data;return e.data=zs(r,t),e.attachments=t.length,{packet:e,buffers:t}}function zs(e,t){if(!e)return e;var r;if(Ms(e))return r={_placeholder:!0,num:t.length},t.push(e),r;if(Array.isArray(e)){var s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=zs(e[r],t);return s}if("object"!=typeof e||e instanceof Date)return e;var n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=zs(e[r],t));return n}function Hs(e,t){return e.data=Ds(e.data,t),delete e.attachments,e}function Ds(e,t){if(e){if(e&&!0===e._placeholder){if("number"==typeof e.num&&0<=e.num&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ds(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ds(e[r],t))}return e}const Us=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Me=Me||{});function Vs(e){return"[object Object]"===Object.prototype.toString.call(e)}class qs extends es{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(t=this.decodeString(e)).type===Me.BINARY_EVENT;(!r&&t.type!==Me.BINARY_ACK||(t.type=r?Me.EVENT:Me.ACK,this.reconstructor=new Fs(t),0===t.attachments))&&super.emitReserved("decoded",t)}else{if(!Ms(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;var r={type:Number(e.charAt(0))};if(void 0===Me[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Me.BINARY_EVENT||r.type===Me.BINARY_ACK){for(var s=t+1;"-"!==e.charAt(++t)&&t!=e.length;);if((s=e.substring(s,t))!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){for(s=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";if(""!==(s=e.charAt(t+1))&&Number(s)==s){for(s=t+1;++t;){var n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){if(s=this.tryParse(e.substr(t)),!qs.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Me.CONNECT:return Vs(t);case Me.DISCONNECT:return void 0===t;case Me.CONNECT_ERROR:return"string"==typeof t||Vs(t);case Me.EVENT:case Me.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Us.indexOf(t[0]));case Me.ACK:case Me.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Fs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=Hs(this.reconPack,this.buffers),this.finishedReconstruction(),e):null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Ws,Gs,Ks,Xs,Ys=Object.freeze({__proto__:null,Decoder:qs,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Me.EVENT&&e.type!==Me.ACK||!Bs(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Me.EVENT?Me.BINARY_EVENT:Me.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Me.BINARY_EVENT&&e.type!==Me.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){e=Zs(e);var t=this.encodeAsString(e.packet);return(e=e.buffers).unshift(t),e}},get PacketType(){return Me},protocol:5});function Js(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Qs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class en extends es{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){var e;this.subs||(e=this.io,this.subs=[Js(e,"open",this.onopen.bind(this)),Js(e,"packet",this.onpacket.bind(this)),Js(e,"error",this.onerror.bind(this)),Js(e,"close",this.onclose.bind(this))])}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Qs.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');var r,s;return t.unshift(e),!this._opts.retries||this.flags.fromQueue||this.flags.volatile?((e={type:Me.EVENT,data:t,options:{}}).options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(r=this.ids++,s=t.pop(),this._registerAckCallback(r,s),e.id=r),s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,(!this.flags.volatile||s&&this.connected)&&(this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={}):this._addToQueue(t),this}_registerAckCallback(e,t){var r=null!=(r=this.flags.timeout)?r:this._opts.ackTimeout;if(void 0===r)this.acks[e]=t;else{const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(s),t.apply(this,[null,...e])}}}emitWithAck(e,...t){const r=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((s,n)=>{t.push(((e,t)=>r?e?n(e):s(t):s(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...s)=>{if(r===this._queue[0])return null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),t)&&t(e):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){var t;!this.connected||0===this._queue.length||(t=this._queue[0]).pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Me.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Me.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Me.EVENT:case Me.BINARY_EVENT:this.onevent(e);break;case Me.ACK:case Me.BINARY_ACK:this.onack(e);break;case Me.DISCONNECT:this.ondisconnect();break;case Me.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(const t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...s){r||(r=!0,t.packet({type:Me.ACK,id:e,data:s}))}}onack(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(this._anyListeners)if(e){var t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(this._anyOutgoingListeners)if(e){var t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(const t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}}function tn(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}tn.prototype.duration=function(){var e,t,r=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*r),r=0==(1&Math.floor(10*e))?r-t:r+t),0|Math.min(r,this.max)},tn.prototype.reset=function(){this.attempts=0},tn.prototype.setMin=function(e){this.ms=e},tn.prototype.setMax=function(e){this.max=e},tn.prototype.setJitter=function(e){this.jitter=e};class rn extends es{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,os(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(r=t.randomizationFactor)?r:.5),this.backoff=new tn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;var r=t.parser||Ys;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null!=(t=this.backoff)&&t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null!=(t=this.backoff)&&t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null!=(t=this.backoff)&&t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(!~this._readyState.indexOf("open")){this.engine=new $s(this.uri,this.opts);const s=this.engine,n=this,o=(this._readyState="opening",this.skipReconnect=!1,Js(s,"open",(function(){n.onopen(),e&&e()}))),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()};var t=Js(s,"error",a);if(!1!==this._timeout){var r=this._timeout;const e=this.setTimeoutFn((()=>{o(),a(new Error("timeout")),s.close()}),r);this.opts.autoUnref&&e.unref(),this.subs.push((()=>{this.clearTimeoutFn(e)}))}this.subs.push(o),this.subs.push(t)}return this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Js(e,"ping",this.onping.bind(this)),Js(e,"data",this.ondata.bind(this)),Js(e,"error",this.onerror.bind(this)),Js(e,"close",this.onclose.bind(this)),Js(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){Cs((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new en(this,e,t),this.nsps[e]=r),r}_destroy(e){for(const e of Object.keys(this.nsps)){if(this.nsps[e].active)return}this._close()}_packet(e){var t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect)||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sn={};function nn(e,t){"object"==typeof e&&(t=e,e=void 0);e=function(e,t="",r){let s=e;return r=r||"undefined"!=typeof location&&location,"string"==typeof(e=null==e?r.protocol+"//"+r.host:e)&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),s=Os(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",e=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host,s.id=s.protocol+"://"+e+":"+s.port+t,s.href=s.protocol+"://"+e+(r&&r.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io");var r=e.source,s=e.id,n=e.path;n=sn[s]&&n in sn[s].nsps;let o;return o=(n=t.forceNew||t["force new connection"]||!1===t.multiplex||n)?new rn(r,t):(sn[s]||(sn[s]=new rn(r,t)),sn[s]),e.query&&!t.query&&(t.query=e.queryKey),o.socket(e.path,t)}Object.assign(nn,{Manager:rn,Socket:en,io:nn,connect:nn});const on=se("<style>"),an=se('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">'),ln=se("<div><pre>");const cn=e=>{let t;const[r]=W(e,["onOpen","onClose","isOpen","value"]),[s,n]=(T((()=>{t&&(t.innerHTML=function(e){return(e=(e="string"!=typeof e?JSON.stringify(e,void 0,2):e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){let t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}))}(JSON.stringify(e?.value,void 0,2)))})),x(r.isOpen??!1)),o=(_((()=>{xe(e.isOpen)||e.isOpen===s()||i()})),e=>{e.stopPropagation()}),a=()=>{n(!1),r.onClose?.(),document.body.style.overflow="auto"},i=()=>{s()?a():(n(!0),r.onOpen?.(),document.body.style.overflow="hidden")};return D(K,{get when(){return s()},get children(){return[(ce(n=on(),we),n),(n=an(),r=n.firstChild,s=r.nextSibling.nextSibling.firstChild.firstChild,n.style.setProperty("z-index","1100"),n.addEventListener("click",a),ce(r,we),s.style.setProperty("background-color","transparent"),s.style.setProperty("margin-left","20px"),s.style.setProperty("margin-right","20px"),s.addEventListener("click",o),s.addEventListener("pointerdown",o),ce(s,(()=>{const r=C((()=>!!e.value));return()=>{return r()&&(s=(e=ln()).firstChild,e.style.setProperty("background","white"),e.style.setProperty("margin","auto"),e.style.setProperty("padding","7px"),"function"==typeof(n=t)?le(n,s):t=s,e);var e,s,n}})()),n)];var r,s,n}})},dn=se('<button type="submit">'),un=e=>{return ie(t=dn(),F({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"py-2 px-4 justify-center font-semibold focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 chatbot-button "+e.class},style:{background:"transparent",border:"none"}}),!1,!0),ce(t,D(ut,{get color(){return e.buttonColor}})),t;var t};let hn,pn="00:00";const fn=1;let gn;function mn(e,t,r){yn.start().then((()=>{e&&e(!0),hn=new Date,function(e){pn="00:00",e(pn),gn=setInterval((()=>{pn=function(e){e=(new Date).getTime()-e.getTime();var t=(e/=1e3,Math.floor(e%60)),r=(e=Math.floor(e/60))%60,s=(e=Math.floor(e/60))%24;e=e=Math.floor(e/24),s+=24*e;return 0==s?vn(r,2)+":"+vn(t,2):vn(s,2)+":"+vn(r,2)+":"+vn(t,2)}(hn),e(pn),function(){var e=pn.split(":"),t="0"+fn;return 3===e.length&&e[0]===t}()&&bn(null)}),1e3)}(r)})).catch((e=>{switch(e.message.includes("mediaDevices API or getUserMedia method is not supported in this browser.")&&t&&t(!0),console.log(e),e.name){case"AbortError":console.log("An AbortError has occurred.");break;case"NotAllowedError":console.log("A NotAllowedError has occurred. User might have denied permission.");break;case"NotFoundError":console.log("A NotFoundError has occurred.");break;case"NotReadableError":console.log("A NotReadableError has occurred.");break;case"SecurityError":console.log("A SecurityError has occurred.");break;case"TypeError":console.log("A TypeError has occurred.");break;case"InvalidStateError":console.log("An InvalidStateError has occurred.");break;case"UnknownError":console.log("An UnknownError has occurred.");break;default:console.log("An error occurred with the error name "+e.name)}}))}function bn(e){yn.stop().then((t=>{clearInterval(gn),e&&e(t)})).catch((e=>{"InvalidStateError"===e.name?console.log("An InvalidStateError has occurred."):console.log("An error occurred with the error name "+e.name)}))}function vn(e,t){return(""+e).padStart(t,"0")}const yn={audioBlobs:[],mediaRecorder:null,streamBeingCaptured:null,start:function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const e=navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/);return navigator.mediaDevices.getUserMedia({audio:!0}).then((t=>{yn.streamBeingCaptured=t,yn.mediaRecorder=new MediaRecorder(t),yn.audioBlobs=[],yn.mediaRecorder.addEventListener("dataavailable",(e=>{yn.audioBlobs.push(e.data)})),e?yn.mediaRecorder.start(1e3):yn.mediaRecorder.start()}))}return Promise.reject(new Error("mediaDevices API or getUserMedia method is not supported in this browser."))},stop:function(){return new Promise((e=>{const t=yn.mediaRecorder?.mimeType;yn.mediaRecorder?.addEventListener("stop",(()=>{var r=new Blob(yn.audioBlobs,{type:t});e(r)})),yn.cancel()}))},cancel:function(){yn.mediaRecorder?.stop(),yn.stopStream(),yn.resetRecordingProperties()},stopStream:function(){yn.streamBeingCaptured?.getTracks().forEach((e=>e.stop()))},resetRecordingProperties:function(){yn.mediaRecorder=null,yn.streamBeingCaptured=null}},wn=((_n=Ws=Ws||{}).assertEqual=e=>e,_n.assertIs=function(e){},_n.assertNever=function(e){throw new Error},_n.arrayToEnum=e=>{var t={};for(const r of e)t[r]=r;return t},_n.getValidEnumValues=e=>{var t={};for(const r of _n.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])))t[r]=e[r];return _n.objectValues(t)},_n.objectValues=e=>_n.objectKeys(e).map((function(t){return e[t]})),_n.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{var t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},_n.find=(e,t)=>{for(const r of e)if(t(r))return r},_n.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,_n.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},_n.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Gs||(Gs={})).mergeShapes=(e,t)=>({...e,...t}),Ws.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"])),xn=e=>{switch(typeof e){case"undefined":return wn.undefined;case"string":return wn.string;case"number":return isNaN(e)?wn.nan:wn.number;case"boolean":return wn.boolean;case"function":return wn.function;case"bigint":return wn.bigint;case"symbol":return wn.symbol;case"object":return Array.isArray(e)?wn.array:null===e?wn.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?wn.promise:"undefined"!=typeof Map&&e instanceof Map?wn.map:"undefined"!=typeof Set&&e instanceof Set?wn.set:"undefined"!=typeof Date&&e instanceof Date?wn.date:wn.object;default:return wn.unknown}},kn=Ws.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var _n;class Cn extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};var t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},s=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(s);else if("invalid_return_type"===o.code)s(o.returnTypeError);else if("invalid_arguments"===o.code)s(o.argumentsError);else if(0===o.path.length)r._errors.push(t(o));else{let e=r,s=0;for(;s<o.path.length;){var n=o.path[s];s===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ws.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){var t={},r=[];for(const s of this.issues)(0<s.path.length?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]]):r).push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Cn.create=e=>new Cn(e);const Sn=(e,t)=>{let r;switch(e.code){case kn.invalid_type:r=e.received===wn.undefined?"Required":`Expected ${e.expected}, received `+e.received;break;case kn.invalid_literal:r="Invalid literal value, expected "+JSON.stringify(e.expected,Ws.jsonStringifyReplacer);break;case kn.unrecognized_keys:r="Unrecognized key(s) in object: "+Ws.joinValues(e.keys,", ");break;case kn.invalid_union:r="Invalid input";break;case kn.invalid_union_discriminator:r="Invalid discriminator value. Expected "+Ws.joinValues(e.options);break;case kn.invalid_enum_value:r=`Invalid enum value. Expected ${Ws.joinValues(e.options)}, received '${e.received}'`;break;case kn.invalid_arguments:r="Invalid function arguments";break;case kn.invalid_return_type:r="Invalid function return type";break;case kn.invalid_date:r="Invalid date";break;case kn.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=r+" at one or more positions greater than or equal to "+e.validation.position)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ws.assertNever(e.validation):r="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case kn.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?"Number must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+e.minimum:"date"===e.type?"Date must be "+(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ")+new Date(Number(e.minimum)):"Invalid input";break;case kn.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} `+e.maximum:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} `+e.maximum:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} `+new Date(Number(e.maximum)):"Invalid input";break;case kn.custom:r="Invalid input";break;case kn.invalid_intersection_types:r="Intersection results could not be merged";break;case kn.not_multiple_of:r="Number must be a multiple of "+e.multipleOf;break;case kn.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ws.assertNever(e)}return{message:r}};let Tn=Sn;function En(){return Tn}const Pn=e=>{var{data:t,path:e,errorMaps:r,issueData:s}=e,n=(e=[...e,...s.path||[]],{...s,path:e});let o="";for(const e of r.filter((e=>!!e)).slice().reverse())o=e(n,{data:t,defaultError:o}).message;return{...s,path:e,message:s.message||o}};function An(e,t){t=Pn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,En(),Sn].filter((e=>!!e))}),e.common.issues.push(t)}class On{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){var r=[];for(const s of t){if("aborted"===s.status)return $n;"dirty"===s.status&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){var r=[];for(const e of t)r.push({key:await e.key,value:await e.value});return On.mergeObjectSync(e,r)}static mergeObjectSync(e,t){var r={};for(const o of t){var{key:s,value:n}=o;if("aborted"===s.status)return $n;if("aborted"===n.status)return $n;"dirty"===s.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"===s.value||void 0===n.value&&!o.alwaysSet||(r[s.value]=n.value)}return{status:e.value,value:r}}}const $n=Object.freeze({status:"aborted"}),Ln=e=>({status:"dirty",value:e}),Rn=e=>({status:"valid",value:e}),jn=e=>"aborted"===e.status,Nn=e=>"dirty"===e.status,In=e=>"valid"===e.status,Mn=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Ks=Ks||{});class Bn{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zn=(e,t)=>{if(In(t))return{success:!0,data:t.value};if(e.common.issues.length)return{success:!1,get error(){var t;return this._error||(t=new Cn(e.common.issues),this._error=t),this._error}};throw new Error("Validation failed but no issues detected.")};function zn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:n}=e;if(t&&(r||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=s?s:t.defaultError}:{message:null!=r?r:t.defaultError},description:n}}class Hn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return xn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new On,ctx:{common:e.parent.common,data:e.data,parsedType:xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){if(e=this._parse(e),Mn(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(e){return e=this._parse(e),Promise.resolve(e)}parse(e,t){if((e=this.safeParse(e,t)).success)return e.data;throw e.error}safeParse(e,t){var r={common:{issues:[],async:null!=(r=null==t?void 0:t.async)&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xn(e)};t=this._parseSync({data:e,path:r.path,parent:r});return Zn(r,t)}async parseAsync(e,t){if((e=await this.safeParseAsync(e,t)).success)return e.data;throw e.error}async safeParseAsync(e,t){return t={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xn(e)},e=this._parse({data:e,path:t.path,parent:t}),e=await(Mn(e)?e:Promise.resolve(e)),Zn(t,e)}refine(e,t){return this._refinement(((r,s)=>{var n=e(r);const o=()=>{return s.addIssue({code:kn.custom,...(e=r,"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t)});var e};return"undefined"!=typeof Promise&&n instanceof Promise?n.then((e=>!!e||(o(),!1))):!!n||(o(),!1)}))}refinement(e,t){return this._refinement(((r,s)=>!!e(r)||(s.addIssue("function"==typeof t?t(r,s):t),!1)))}_refinement(e){return new $o({schema:this,typeName:Xs.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lo.create(this,this._def)}nullable(){return Ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ho.create(this,this._def)}promise(){return Oo.create(this,this._def)}or(e){return go.create([this,e],this._def)}and(e){return yo.create(this,e,this._def)}transform(e){return new $o({...zn(this._def),schema:this,typeName:Xs.ZodEffects,effect:{type:"transform",transform:e}})}default(e){var t="function"==typeof e?e:()=>e;return new jo({...zn(this._def),innerType:this,defaultValue:t,typeName:Xs.ZodDefault})}brand(){return new Bo({typeName:Xs.ZodBranded,type:this,...zn(this._def)})}catch(e){var t="function"==typeof e?e:()=>e;return new No({...zn(this._def),innerType:this,catchValue:t,typeName:Xs.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return Zo.create(this,e)}readonly(){return zo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dn=/^c[^\s-]{8,}$/i,Un=/^[a-z][a-z0-9]*$/,Vn=/^[0-9A-HJKMNP-TV-Z]{26}$/,qn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fn=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Wn;const Gn=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Kn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Xn=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Yn(e,t){return!("v4"!==t&&t||!Gn.test(e))||!("v6"!==t&&t||!Kn.test(e))}class Jn extends Hn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==wn.string){const t=this._getOrReturnCtx(e);return An(t,{code:kn.invalid_type,expected:wn.string,received:t.parsedType}),$n}var t=new On;let r;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(An(r=this._getOrReturnCtx(e,r),{code:kn.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(An(r=this._getOrReturnCtx(e,r),{code:kn.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){var s=e.data.length>o.value,n=e.data.length<o.value;(s||n)&&(r=this._getOrReturnCtx(e,r),s?An(r,{code:kn.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):n&&An(r,{code:kn.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)Fn.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"email",code:kn.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)(Wn=Wn||new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")).test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:kn.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)qn.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:kn.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)Dn.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:kn.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)Un.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:kn.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)Vn.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:kn.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(s){An(r=this._getOrReturnCtx(e,r),{validation:"url",code:kn.invalid_string,message:o.message}),t.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(An(r=this._getOrReturnCtx(e,r),{validation:"regex",code:kn.invalid_string,message:o.message}),t.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(An(r=this._getOrReturnCtx(e,r),{code:kn.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(An(r=this._getOrReturnCtx(e,r),{code:kn.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(An(r=this._getOrReturnCtx(e,r),{code:kn.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty()):"datetime"===o.kind?Xn(o).test(e.data)||(An(r=this._getOrReturnCtx(e,r),{code:kn.invalid_string,validation:"datetime",message:o.message}),t.dirty()):"ip"===o.kind?Yn(e.data,o.version)||(An(r=this._getOrReturnCtx(e,r),{validation:"ip",code:kn.invalid_string,message:o.message}),t.dirty()):Ws.assertNever(o);return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:kn.invalid_string,...Ks.errToObj(r)})}_addCheck(e){return new Jn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ks.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ks.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ks.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ks.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ks.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ks.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ks.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ks.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,...Ks.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ks.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Ks.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ks.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ks.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ks.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ks.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ks.errToObj(t)})}nonempty(e){return this.min(1,Ks.errToObj(e))}trim(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Qn(e,t){var r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length;r=s<r?r:s;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}Jn.create=e=>{var t;return new Jn({checks:[],typeName:Xs.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...zn(e)})};class eo extends Hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==wn.number){const t=this._getOrReturnCtx(e);return An(t,{code:kn.invalid_type,expected:wn.number,received:t.parsedType}),$n}let t;var r=new On;for(const s of this._def.checks)"int"===s.kind?Ws.isInteger(e.data)||(An(t=this._getOrReturnCtx(e,t),{code:kn.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):"multipleOf"===s.kind?0!==Qn(e.data,s.value)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(An(t=this._getOrReturnCtx(e,t),{code:kn.not_finite,message:s.message}),r.dirty()):Ws.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ks.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ks.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ks.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ks.toString(t))}setLimit(e,t,r,s){return new eo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ks.toString(s)}]})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ks.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ks.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ks.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ks.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ks.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ks.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ks.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ks.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ks.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Ws.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}eo.create=e=>new eo({checks:[],typeName:Xs.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...zn(e)});class to extends Hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==wn.bigint){const t=this._getOrReturnCtx(e);return An(t,{code:kn.invalid_type,expected:wn.bigint,received:t.parsedType}),$n}let t;var r=new On;for(const s of this._def.checks)"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(An(t=this._getOrReturnCtx(e,t),{code:kn.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Ws.assertNever(s);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ks.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ks.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ks.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ks.toString(t))}setLimit(e,t,r,s){return new to({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ks.toString(s)}]})}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ks.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ks.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ks.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ks.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ks.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}to.create=e=>{var t;return new to({checks:[],typeName:Xs.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...zn(e)})};class ro extends Hn{_parse(e){var t;return this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==wn.boolean?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.boolean,received:t.parsedType}),$n):Rn(e.data)}}ro.create=e=>new ro({typeName:Xs.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...zn(e)});class so extends Hn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==wn.date){const t=this._getOrReturnCtx(e);return An(t,{code:kn.invalid_type,expected:wn.date,received:t.parsedType}),$n}if(isNaN(e.data.getTime())){return An(this._getOrReturnCtx(e),{code:kn.invalid_date}),$n}var t=new On;let r;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(An(r=this._getOrReturnCtx(e,r),{code:kn.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(An(r=this._getOrReturnCtx(e,r),{code:kn.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):Ws.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new so({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ks.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ks.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}so.create=e=>new so({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Xs.ZodDate,...zn(e)});class no extends Hn{_parse(e){var t;return this._getType(e)!==wn.symbol?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.symbol,received:t.parsedType}),$n):Rn(e.data)}}no.create=e=>new no({typeName:Xs.ZodSymbol,...zn(e)});class oo extends Hn{_parse(e){var t;return this._getType(e)!==wn.undefined?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.undefined,received:t.parsedType}),$n):Rn(e.data)}}oo.create=e=>new oo({typeName:Xs.ZodUndefined,...zn(e)});class ao extends Hn{_parse(e){var t;return this._getType(e)!==wn.null?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.null,received:t.parsedType}),$n):Rn(e.data)}}ao.create=e=>new ao({typeName:Xs.ZodNull,...zn(e)});class io extends Hn{constructor(){super(...arguments),this._any=!0}_parse(e){return Rn(e.data)}}io.create=e=>new io({typeName:Xs.ZodAny,...zn(e)});class lo extends Hn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rn(e.data)}}lo.create=e=>new lo({typeName:Xs.ZodUnknown,...zn(e)});class co extends Hn{_parse(e){return An(e=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.never,received:e.parsedType}),$n}}co.create=e=>new co({typeName:Xs.ZodNever,...zn(e)});class uo extends Hn{_parse(e){var t;return this._getType(e)!==wn.undefined?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.void,received:t.parsedType}),$n):Rn(e.data)}}uo.create=e=>new uo({typeName:Xs.ZodVoid,...zn(e)});class ho extends Hn{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;var n;return t.parsedType!==wn.array?(An(t,{code:kn.invalid_type,expected:wn.array,received:t.parsedType}),$n):(null!==s.exactLength&&(e=t.data.length>s.exactLength.value,n=t.data.length<s.exactLength.value,e||n)&&(An(t,{code:e?kn.too_big:kn.too_small,minimum:n?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty()),null!==s.minLength&&t.data.length<s.minLength.value&&(An(t,{code:kn.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(An(t,{code:kn.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async?Promise.all([...t.data].map(((e,r)=>s.type._parseAsync(new Bn(t,e,t.path,r))))).then((e=>On.mergeArray(r,e))):(n=[...t.data].map(((e,r)=>s.type._parseSync(new Bn(t,e,t.path,r)))),On.mergeArray(r,n)))}get element(){return this._def.type}min(e,t){return new ho({...this._def,minLength:{value:e,message:Ks.toString(t)}})}max(e,t){return new ho({...this._def,maxLength:{value:e,message:Ks.toString(t)}})}length(e,t){return new ho({...this._def,exactLength:{value:e,message:Ks.toString(t)}})}nonempty(e){return this.min(1,e)}}function po(e){if(e instanceof fo){const r={};for(const s in e.shape){var t=e.shape[s];r[s]=Lo.create(po(t))}return new fo({...e._def,shape:()=>r})}return e instanceof ho?new ho({...e._def,type:po(e.element)}):e instanceof Lo?Lo.create(po(e.unwrap())):e instanceof Ro?Ro.create(po(e.unwrap())):e instanceof wo?wo.create(e.items.map((e=>po(e)))):e}ho.create=(e,t)=>new ho({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Xs.ZodArray,...zn(t)});class fo extends Hn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){var e,t;return null!==this._cached?this._cached:(e=this._def.shape(),t=Ws.objectKeys(e),this._cached={shape:e,keys:t})}_parse(e){if(this._getType(e)!==wn.object){const t=this._getOrReturnCtx(e);return An(t,{code:kn.invalid_type,expected:wn.object,received:t.parsedType}),$n}const{status:t,ctx:r}=this._processInputParams(e);var{shape:s,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof co&&"strip"===this._def.unknownKeys))for(const e in r.data)n.includes(e)||o.push(e);const a=[];for(const e of n){var i=s[e],l=r.data[e];a.push({key:{status:"valid",value:e},value:i._parse(new Bn(r,l,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof co){if("passthrough"===(e=this._def.unknownKeys))for(const e of o)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)0<o.length&&(An(r,{code:kn.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var c=this._def.catchall;for(const e of o){var d=r.data[e];a.push({key:{status:"valid",value:e},value:c._parse(new Bn(r,d,r.path,e)),alwaysSet:e in r.data})}}return r.common.async?Promise.resolve().then((async()=>{var e=[];for(const r of a){var t=await r.key;e.push({key:t,value:await r.value,alwaysSet:r.alwaysSet})}return e})).then((e=>On.mergeObjectSync(t,e))):On.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Ks.errToObj,new fo({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var s,n=null!=(s=null==(s=(n=this._def).errorMap)?void 0:s.call(n,t,r).message)?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(s=Ks.errToObj(e).message)?s:n}:{message:n}}}:{}})}strip(){return new fo({...this._def,unknownKeys:"strip"})}passthrough(){return new fo({...this._def,unknownKeys:"passthrough"})}extend(e){return new fo({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new fo({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xs.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new fo({...this._def,catchall:e})}pick(e){const t={};return Ws.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new fo({...this._def,shape:()=>t})}omit(e){const t={};return Ws.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new fo({...this._def,shape:()=>t})}deepPartial(){return po(this)}partial(e){const t={};return Ws.objectKeys(this.shape).forEach((r=>{var s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()})),new fo({...this._def,shape:()=>t})}required(e){const t={};return Ws.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof Lo;)e=e._def.innerType;t[r]=e}})),new fo({...this._def,shape:()=>t})}keyof(){return Eo(Ws.objectKeys(this.shape))}}fo.create=(e,t)=>new fo({shape:()=>e,unknownKeys:"strip",catchall:co.create(),typeName:Xs.ZodObject,...zn(t)}),fo.strictCreate=(e,t)=>new fo({shape:()=>e,unknownKeys:"strict",catchall:co.create(),typeName:Xs.ZodObject,...zn(t)}),fo.lazycreate=(e,t)=>new fo({shape:e,unknownKeys:"strip",catchall:co.create(),typeName:Xs.ZodObject,...zn(t)});class go extends Hn{_parse(e){const t=this._processInputParams(e).ctx;if(e=this._def.options,t.common.async)return Promise.all(e.map((async e=>{var r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;return e=e.map((e=>new Cn(e.ctx.common.issues))),An(t,{code:kn.invalid_union,unionErrors:e}),$n}));{let o;var r=[];for(const a of e){var s={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:s});if("valid"===n.status)return n;"dirty"===n.status&&(o=o||{result:n,ctx:s}),s.common.issues.length&&r.push(s.common.issues)}return o?(t.common.issues.push(...o.ctx.common.issues),o.result):(e=r.map((e=>new Cn(e))),An(t,{code:kn.invalid_union,unionErrors:e}),$n)}}get options(){return this._def.options}}go.create=(e,t)=>new go({options:e,typeName:Xs.ZodUnion,...zn(t)});const mo=e=>e instanceof So?mo(e.schema):e instanceof $o?mo(e.innerType()):e instanceof To?[e.value]:e instanceof Po?e.options:e instanceof Ao?Object.keys(e.enum):e instanceof jo?mo(e._def.innerType):e instanceof oo?[void 0]:e instanceof ao?[null]:null;class bo extends Hn{_parse(e){var t,r;return(e=this._processInputParams(e).ctx).parsedType!==wn.object?(An(e,{code:kn.invalid_type,expected:wn.object,received:e.parsedType}),$n):(t=this.discriminator,r=e.data[t],(r=this.optionsMap.get(r))?e.common.async?r._parseAsync({data:e.data,path:e.path,parent:e}):r._parseSync({data:e.data,path:e.path,parent:e}):(An(e,{code:kn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[t]}),$n))}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){var s=new Map;for(const r of t){var n=mo(r.shape[e]);if(!n)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const t of n){if(s.has(t))throw new Error(`Discriminator property ${String(e)} has duplicate value `+String(t));s.set(t,r)}}return new bo({typeName:Xs.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...zn(r)})}}function vo(e,t){var r=xn(e),s=xn(t);if(e===t)return{valid:!0,data:e};if(r===wn.object&&s===wn.object){const r=Ws.objectKeys(t);var n=Ws.objectKeys(e).filter((e=>-1!==r.indexOf(e))),o={...e,...t};for(const r of n){var a=vo(e[r],t[r]);if(!a.valid)return{valid:!1};o[r]=a.data}return{valid:!0,data:o}}if(r!==wn.array||s!==wn.array)return r===wn.date&&s===wn.date&&+e==+t?{valid:!0,data:e}:{valid:!1};if(e.length!==t.length)return{valid:!1};var i=[];for(let r=0;r<e.length;r++){var l=vo(e[r],t[r]);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}class yo extends Hn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(e,s)=>{var n;return jn(e)||jn(s)?$n:(n=vo(e.value,s.value)).valid?((Nn(e)||Nn(s))&&t.dirty(),{status:t.value,value:n.data}):(An(r,{code:kn.invalid_intersection_types}),$n)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>s(e,t))):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yo.create=(e,t,r)=>new yo({left:e,right:t,typeName:Xs.ZodIntersection,...zn(r)});class wo extends Hn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);return r.parsedType!==wn.array?(An(r,{code:kn.invalid_type,expected:wn.array,received:r.parsedType}),$n):r.data.length<this._def.items.length?(An(r,{code:kn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$n):(!this._def.rest&&r.data.length>this._def.items.length&&(An(r,{code:kn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty()),e=[...r.data].map(((e,t)=>{var s=this._def.items[t]||this._def.rest;return s?s._parse(new Bn(r,e,r.path,t)):null})).filter((e=>!!e)),r.common.async?Promise.all(e).then((e=>On.mergeArray(t,e))):On.mergeArray(t,e))}get items(){return this._def.items}rest(e){return new wo({...this._def,rest:e})}}wo.create=(e,t)=>{if(Array.isArray(e))return new wo({items:e,typeName:Xs.ZodTuple,rest:null,...zn(t)});throw new Error("You must pass an array of schemas to z.tuple([ ... ])")};class xo extends Hn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){var{status:e,ctx:t}=this._processInputParams(e);if(t.parsedType!==wn.object)return An(t,{code:kn.invalid_type,expected:wn.object,received:t.parsedType}),$n;var r=[],s=this._def.keyType,n=this._def.valueType;for(const e in t.data)r.push({key:s._parse(new Bn(t,e,t.path,e)),value:n._parse(new Bn(t,t.data[e],t.path,e))});return t.common.async?On.mergeObjectAsync(e,r):On.mergeObjectSync(e,r)}get element(){return this._def.valueType}static create(e,t,r){return new xo(t instanceof Hn?{keyType:e,valueType:t,typeName:Xs.ZodRecord,...zn(r)}:{keyType:Jn.create(),valueType:e,typeName:Xs.ZodRecord,...zn(t)})}}class ko extends Hn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==wn.map)return An(r,{code:kn.invalid_type,expected:wn.map,received:r.parsedType}),$n;const s=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map((([e,t],o)=>({key:s._parse(new Bn(r,e,r.path,[o,"key"])),value:n._parse(new Bn(r,t,r.path,[o,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){var r=await n.key,s=await n.value;if("aborted"===r.status||"aborted"===s.status)return $n;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}))}var a=new Map;for(const e of o){var i=e.key,l=e.value;if("aborted"===i.status||"aborted"===l.status)return $n;"dirty"!==i.status&&"dirty"!==l.status||t.dirty(),a.set(i.value,l.value)}return{status:t.value,value:a}}}ko.create=(e,t,r)=>new ko({valueType:t,keyType:e,typeName:Xs.ZodMap,...zn(r)});class _o extends Hn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==wn.set)return An(r,{code:kn.invalid_type,expected:wn.set,received:r.parsedType}),$n;null!==(e=this._def).minSize&&r.data.size<e.minSize.value&&(An(r,{code:kn.too_small,minimum:e.minSize.value,type:"set",inclusive:!0,exact:!1,message:e.minSize.message}),t.dirty()),null!==e.maxSize&&r.data.size>e.maxSize.value&&(An(r,{code:kn.too_big,maximum:e.maxSize.value,type:"set",inclusive:!0,exact:!1,message:e.maxSize.message}),t.dirty());const s=this._def.valueType;function n(e){var r=new Set;for(const s of e){if("aborted"===s.status)return $n;"dirty"===s.status&&t.dirty(),r.add(s.value)}return{status:t.value,value:r}}return e=[...r.data.values()].map(((e,t)=>s._parse(new Bn(r,e,r.path,t)))),r.common.async?Promise.all(e).then((e=>n(e))):n(e)}min(e,t){return new _o({...this._def,minSize:{value:e,message:Ks.toString(t)}})}max(e,t){return new _o({...this._def,maxSize:{value:e,message:Ks.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}_o.create=(e,t)=>new _o({valueType:e,minSize:null,maxSize:null,typeName:Xs.ZodSet,...zn(t)});class Co extends Hn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const t=this._processInputParams(e).ctx;if(t.parsedType!==wn.function)return An(t,{code:kn.invalid_type,expected:wn.function,received:t.parsedType}),$n;function r(e,r){return Pn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,En(),Sn].filter((e=>!!e)),issueData:{code:kn.invalid_arguments,argumentsError:r}})}function s(e,r){return Pn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,En(),Sn].filter((e=>!!e)),issueData:{code:kn.invalid_return_type,returnTypeError:r}})}const n={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Oo){const e=this;return Rn((async function(...t){const a=new Cn([]);var i=await e._def.args.parseAsync(t,n).catch((e=>{throw a.addIssue(r(t,e)),a}));const l=await Reflect.apply(o,this,i);return await e._def.returns._def.type.parseAsync(l,n).catch((e=>{throw a.addIssue(s(l,e)),a}))}))}{const e=this;return Rn((function(...t){var a=e._def.args.safeParse(t,n);if(!a.success)throw new Cn([r(t,a.error)]);if(t=Reflect.apply(o,this,a.data),(a=e._def.returns.safeParse(t,n)).success)return a.data;throw new Cn([s(t,a.error)])}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Co({...this._def,args:wo.create(e).rest(lo.create())})}returns(e){return new Co({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Co({args:e||wo.create([]).rest(lo.create()),returns:t||lo.create(),typeName:Xs.ZodFunction,...zn(r)})}}class So extends Hn{get schema(){return this._def.getter()}_parse(e){return e=this._processInputParams(e).ctx,this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}So.create=(e,t)=>new So({getter:e,typeName:Xs.ZodLazy,...zn(t)});class To extends Hn{_parse(e){var t;return e.data!==this._def.value?(An(t=this._getOrReturnCtx(e),{received:t.data,code:kn.invalid_literal,expected:this._def.value}),$n):{status:"valid",value:e.data}}get value(){return this._def.value}}function Eo(e,t){return new Po({values:e,typeName:Xs.ZodEnum,...zn(t)})}To.create=(e,t)=>new To({value:e,typeName:Xs.ZodLiteral,...zn(t)});class Po extends Hn{_parse(e){var t,r;return"string"!=typeof e.data?(r=this._getOrReturnCtx(e),t=this._def.values,An(r,{expected:Ws.joinValues(t),received:r.parsedType,code:kn.invalid_type}),$n):-1===this._def.values.indexOf(e.data)?(t=this._getOrReturnCtx(e),r=this._def.values,An(t,{received:t.data,code:kn.invalid_enum_value,options:r}),$n):Rn(e.data)}get options(){return this._def.values}get enum(){var e={};for(const t of this._def.values)e[t]=t;return e}get Values(){var e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){var e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Po.create(e)}exclude(e){return Po.create(this.options.filter((t=>!e.includes(t))))}}Po.create=Eo;class Ao extends Hn{_parse(e){var t,r=Ws.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);return s.parsedType!==wn.string&&s.parsedType!==wn.number?(t=Ws.objectValues(r),An(s,{expected:Ws.joinValues(t),received:s.parsedType,code:kn.invalid_type}),$n):-1===r.indexOf(e.data)?(t=Ws.objectValues(r),An(s,{received:s.data,code:kn.invalid_enum_value,options:t}),$n):Rn(e.data)}get enum(){return this._def.values}}Ao.create=(e,t)=>new Ao({values:e,typeName:Xs.ZodNativeEnum,...zn(t)});class Oo extends Hn{unwrap(){return this._def.type}_parse(e){const t=this._processInputParams(e).ctx;return t.parsedType!==wn.promise&&!1===t.common.async?(An(t,{code:kn.invalid_type,expected:wn.promise,received:t.parsedType}),$n):(e=t.parsedType===wn.promise?t.data:Promise.resolve(t.data),Rn(e.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))))}}Oo.create=(e,t)=>new Oo({type:e,typeName:Xs.ZodPromise,...zn(t)});class $o extends Hn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xs.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,n={addIssue:e=>{An(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===s.type)return e=s.transform(r.data,n),r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r}))):this._def.schema._parseSync({data:e,path:r.path,parent:r});if("refinement"===s.type){const o=e=>{var t=s.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};return!1===r.common.async?"aborted"===(e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r})).status?$n:("dirty"===e.status&&t.dirty(),o(e.value),{status:t.value,value:e.value}):this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>"aborted"===e.status?$n:("dirty"===e.status&&t.dirty(),o(e.value).then((()=>({status:t.value,value:e.value}))))))}if("transform"===s.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>In(e)?Promise.resolve(s.transform(e.value,n)).then((e=>({status:t.value,value:e}))):e));if(e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r}),!In(e))return e;if((e=s.transform(e.value,n))instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:e}}Ws.assertNever(s)}}$o.create=(e,t,r)=>new $o({schema:e,typeName:Xs.ZodEffects,effect:t,...zn(r)}),$o.createWithPreprocess=(e,t,r)=>new $o({schema:t,effect:{type:"preprocess",transform:e},typeName:Xs.ZodEffects,...zn(r)});class Lo extends Hn{_parse(e){return this._getType(e)===wn.undefined?Rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lo.create=(e,t)=>new Lo({innerType:e,typeName:Xs.ZodOptional,...zn(t)});class Ro extends Hn{_parse(e){return this._getType(e)===wn.null?Rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ro.create=(e,t)=>new Ro({innerType:e,typeName:Xs.ZodNullable,...zn(t)});class jo extends Hn{_parse(e){let t=(e=this._processInputParams(e).ctx).data;return e.parsedType===wn.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}jo.create=(e,t)=>new jo({innerType:e,typeName:Xs.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...zn(t)});class No extends Hn{_parse(e){e=this._processInputParams(e).ctx;const t={...e,common:{...e.common,issues:[]}};return e=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}}),Mn(e)?e.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Cn(t.common.issues)},input:t.data})}))):{status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Cn(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}No.create=(e,t)=>new No({innerType:e,typeName:Xs.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...zn(t)});class Io extends Hn{_parse(e){var t;return this._getType(e)!==wn.nan?(An(t=this._getOrReturnCtx(e),{code:kn.invalid_type,expected:wn.nan,received:t.parsedType}),$n):{status:"valid",value:e.data}}}Io.create=e=>new Io({typeName:Xs.ZodNaN,...zn(e)});const Mo=Symbol("zod_brand");class Bo extends Hn{_parse(e){var t=(e=this._processInputParams(e).ctx).data;return this._def.type._parse({data:t,path:e.path,parent:e})}unwrap(){return this._def.type}}class Zo extends Hn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);return r.common.async?(async()=>{var e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?$n:"dirty"===e.status?(t.dirty(),Ln(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})():"aborted"===(e=this._def.in._parseSync({data:r.data,path:r.path,parent:r})).status?$n:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}static create(e,t){return new Zo({in:e,out:t,typeName:Xs.ZodPipeline})}}class zo extends Hn{_parse(e){return e=this._def.innerType._parse(e),In(e)&&(e.value=Object.freeze(e.value)),e}}zo.create=(e,t)=>new zo({innerType:e,typeName:Xs.ZodReadonly,...zn(t)});const Ho=(e,t={},r)=>e?io.create().superRefine(((s,n)=>{var o;e(s)||(o=null==(o=null!=(o=(s="function"==typeof t?t(s):"string"==typeof t?{message:t}:t).fatal)?o:r)||o,n.addIssue({code:"custom",..."string"==typeof s?{message:s}:s,fatal:o}))})):io.create(),Do={object:fo.lazycreate},Uo=(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Xs=Xs||{}),(e,t={message:"Input not instance of "+e.name})=>Ho((t=>t instanceof e),t)),Vo=Jn.create,qo=eo.create,Fo=Io.create,Wo=to.create,Go=ro.create,Ko=so.create,Xo=no.create,Yo=oo.create,Jo=ao.create,Qo=io.create,ea=lo.create,ta=co.create,ra=uo.create,sa=ho.create,na=fo.create,oa=fo.strictCreate,aa=go.create,ia=bo.create,la=yo.create,ca=wo.create,da=xo.create,ua=ko.create,ha=_o.create,pa=Co.create,fa=So.create,ga=To.create,ma=Po.create,ba=Ao.create,va=Oo.create,ya=$o.create,wa=Lo.create,xa=Ro.create,ka=$o.createWithPreprocess,_a=Zo.create,Ca={string:e=>Jn.create({...e,coerce:!0}),number:e=>eo.create({...e,coerce:!0}),boolean:e=>ro.create({...e,coerce:!0}),bigint:e=>to.create({...e,coerce:!0}),date:e=>so.create({...e,coerce:!0})},Sa=$n;var Ta=Object.freeze({__proto__:null,defaultErrorMap:Sn,setErrorMap:function(e){Tn=e},getErrorMap:En,makeIssue:Pn,EMPTY_PATH:[],addIssueToContext:An,ParseStatus:On,INVALID:$n,DIRTY:Ln,OK:Rn,isAborted:jn,isDirty:Nn,isValid:In,isAsync:Mn,get util(){return Ws},get objectUtil(){return Gs},ZodParsedType:wn,getParsedType:xn,ZodType:Hn,ZodString:Jn,ZodNumber:eo,ZodBigInt:to,ZodBoolean:ro,ZodDate:so,ZodSymbol:no,ZodUndefined:oo,ZodNull:ao,ZodAny:io,ZodUnknown:lo,ZodNever:co,ZodVoid:uo,ZodArray:ho,ZodObject:fo,ZodUnion:go,ZodDiscriminatedUnion:bo,ZodIntersection:yo,ZodTuple:wo,ZodRecord:xo,ZodMap:ko,ZodSet:_o,ZodFunction:Co,ZodLazy:So,ZodLiteral:To,ZodEnum:Po,ZodNativeEnum:Ao,ZodPromise:Oo,ZodEffects:$o,ZodTransformer:$o,ZodOptional:Lo,ZodNullable:Ro,ZodDefault:jo,ZodCatch:No,ZodNaN:Io,BRAND:Mo,ZodBranded:Bo,ZodPipeline:Zo,ZodReadonly:zo,custom:Ho,Schema:Hn,ZodSchema:Hn,late:Do,get ZodFirstPartyTypeKind(){return Xs},coerce:Ca,any:Qo,array:sa,bigint:Wo,boolean:Go,date:Ko,discriminatedUnion:ia,effect:ya,enum:ma,function:pa,instanceof:Uo,intersection:la,lazy:fa,literal:ga,map:ua,nan:Fo,nativeEnum:ba,never:ta,null:Jo,nullable:xa,number:qo,object:na,oboolean:()=>Go().optional(),onumber:()=>qo().optional(),optional:wa,ostring:()=>Vo().optional(),pipeline:_a,preprocess:ka,promise:va,record:da,set:ha,strictObject:oa,string:Vo,symbol:Xo,transformer:ya,tuple:ca,undefined:Yo,union:aa,unknown:ea,void:ra,NEVER:Sa,ZodIssueCode:kn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Cn});const Ea=se('<span class="flex items-center gap-2">Saving...'),Pa=se("<span>Submit"),Aa=()=>{return t=(e=Ea()).firstChild,ce(e,D(mt,{class:"text-white"}),t),e;var e,t},Oa=e=>D(ft,F({get sendButtonColor(){return e.buttonColor},type:"submit",get isDisabled(){return e.isDisabled||e.isLoading},class:"m-0 h-14 flex items-center justify-center"},e,{get children(){return D(K,{get when(){return!e.isLoading},get fallback(){return D(Aa,{})},get children(){var e=Pa();return e.style.setProperty("font-family","Poppins, sans-serif"),e}})}})),$a=se('<div class="flex flex-row justify-start mb-2 items-start host-container"><div class="px-4 py-2 ml-2 max-w-full chatbot-host-bubble prose" data-testid="host-bubble">'),La=se('<div class="flex flex-col gap-2"><span>'),Ra=se('<form class="flex flex-col gap-2"><span></span><div class="flex flex-col gap-2 w-full"><div class="flex items-center justify-end gap-1">'),ja=se('<div class="w-full flex flex-col items-start justify-start gap-1"><div class="w-full flex items-center justify-between chatbot-input border border-[#eeeeee]"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full h-full min-h-[56px] max-h-[128px] text-input disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 " placeholder="Name" name="name">'),Na=se('<span class="text-sm text-red-500">'),Ia=se('<div class="w-full flex flex-col items-start justify-start gap-1"><div class="w-full flex items-center justify-between chatbot-input border border-[#eeeeee]"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full h-full min-h-[56px] max-h-[128px] text-input disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 " type="email" placeholder="Email Address" name="email">'),Ma=se('<div class="w-full flex flex-col items-start justify-start gap-1"><div class="w-full flex items-center justify-between chatbot-input border border-[#eeeeee]"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full h-full min-h-[56px] max-h-[128px] text-input disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 " type="number" placeholder="Phone Number" name="phone">'),Ba=new RegExp(/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/),Za=Ta.object({name:Ta.string().min(2,"Name is too short").optional(),email:Ta.string().email("Please provide a valid email").optional(),phone:Ta.string().min(5,"Phone number is too short").regex(Ba,"Invalid Number!").optional()}),za=e=>{const[t,r]=x(""),[s,n]=x(""),[o,a]=x(""),[i,l]=x(!1),[c,d]=x(),u=async r=>{r.preventDefault(),l(!0);var n;r=Object.fromEntries(new FormData(r.currentTarget));(r=Za.safeParse(r)).success?(n={chatflowid:e.chatflowid,chatId:e.chatId,name:t(),email:s(),phone:o()},(await(({apiHost:e="http://localhost:3000",body:t})=>_e({method:"POST",url:e+"/api/v1/leads/",body:t}))({apiHost:e.apiHost,body:n})).data&&(Ce(e.chatflowid,e.chatId,{lead:{name:t(),email:s(),phone:o()}}),e.setIsLeadSaved(!0),e.setLeadEmail(s()))):(n=r.error.flatten(),d(n.fieldErrors)),l(!1)};{const l=$a(),d=l.firstChild;return l.style.setProperty("margin-right","50px"),ce(l,D(K,{get when(){return e.showAvatar},get children(){return D(Nt,{get initialAvatarSrc(){return e.avatarSrc}})}}),d),d.style.setProperty("border-radius","6px"),ce(d,(()=>{const l=C((()=>!(!e.isLeadSaved&&!Se(e.chatflowid)?.lead)));return()=>{return l()?((f=(p=La()).firstChild).style.setProperty("white-space","pre-line"),ce(f,(()=>e.leadsConfig?.successMessage||"Thank you for submitting your contact information.")),p):(h=(d=(p=(f=Ra()).firstChild).nextSibling).firstChild,f.addEventListener("submit",u),p.style.setProperty("white-space","pre-line"),ce(p,(()=>e.leadsConfig?.title||"Let us know where we can reach you:")),ce(d,(()=>{const s=C((()=>!!e.leadsConfig?.name));return()=>s()&&(()=>{const e=ja(),s=e.firstChild.firstChild;return s.addEventListener("change",(e=>r(e.currentTarget.value))),s.style.setProperty("width","100%"),ce(e,(()=>{const e=C((()=>!(!c()||!c()?.name)));return()=>{return e()&&(ce(t=Na(),(()=>c()?.name[0])),t);var t}})(),null),k((()=>s.value=t())),e})()})(),h),ce(d,(()=>{const t=C((()=>!!e.leadsConfig?.email));return()=>t()&&(()=>{const e=Ia(),t=e.firstChild.firstChild;return t.addEventListener("change",(e=>n(e.currentTarget.value))),t.style.setProperty("width","100%"),ce(e,(()=>{const e=C((()=>!(!c()||!c()?.email)));return()=>{return e()&&(ce(t=Na(),(()=>c()?.email[0])),t);var t}})(),null),k((()=>t.value=s())),e})()})(),h),ce(d,(()=>{const t=C((()=>!!e.leadsConfig?.phone));return()=>t()&&(()=>{const e=Ma(),t=e.firstChild.firstChild;return t.addEventListener("change",(e=>a(e.target.value))),t.style.setProperty("width","100%"),ce(e,(()=>{const e=C((()=>!(!c()||!c()?.phone)));return()=>{return e()&&(ce(t=Na(),(()=>c()?.phone[0])),t);var t}})(),null),k((()=>t.value=o())),e})()})(),h),ce(h,D(Oa,{get buttonColor(){return e.sendButtonColor},get isLoading(){return i()}})),f);var d,h,p,f}})()),k((t=>{var r=e.backgroundColor??"#f7f8ff",s=e.textColor??"#303235",n=e.fontSize?e.fontSize+"px":"16";return r!==t._v$&&(null!=(t._v$=r)?d.style.setProperty("background-color",r):d.style.removeProperty("background-color")),s!==t._v$2&&(null!=(t._v$2=s)?d.style.setProperty("color",s):d.style.removeProperty("color")),n!==t._v$3&&(null!=(t._v$3=n)?d.style.setProperty("font-size",n):d.style.removeProperty("font-size")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),l}},Ha=se('<div class="w-full flex flex-row flex-wrap px-5 py-[10px] gap-2">'),Da=se('<div class="w-full flex items-center justify-start gap-2 px-5 pt-2 border-t border-[#eeeeee]">'),Ua=se('<div><div class="flex flex-col w-full h-full justify-start z-0"><div class="overflow-y-scroll flex flex-col flex-grow min-w-full w-full px-3 pt-[70px] relative scrollable-container overscroll-contain chatbot-chat-view scroll-smooth"></div><div class="w-full px-5 pt-2 pb-1">'),Va=se('<div class="absolute top-0 left-0 bottom-0 right-0 w-full h-full z-50">'),qa=se('<div class="absolute top-0 left-0 bottom-0 right-0 flex flex-col items-center justify-center bg-black/60 backdrop-blur-sm text-white z-40 gap-2 border-2 border-dashed"><h2 class="text-xl font-semibold">Drop here to upload'),Fa=se("<span>"),Wa=se("<span>Max Allowed Size: <!> MB"),Ga=se("<div>"),Ka=se('<span class="px-3 whitespace-pre-wrap font-semibold max-w-full">'),Xa=se("<span>Clear"),Ya=se('<div class="flex flex-row items-center w-full h-[50px] absolute top-0 left-0 z-10"><div>'),Ja=se('<div class="flex flex-wrap gap-3 ml-10">'),Qa=se('<button class="group w-12 h-12 flex items-center justify-center relative rounded-[10px] overflow-hidden transition-colors duration-200"><img class="w-full h-full bg-cover"><span class="absolute hidden group-hover:flex items-center justify-center z-10 w-full h-full top-0 left-0 bg-black/10 rounded-[10px] transition-colors duration-200">'),ei=se('<div class="inline-flex basis-auto flex-grow-0 flex-shrink-0 justify-between items-center rounded-xl h-12 p-1 mr-1 bg-gray-500"><audio class="block bg-cover bg-center w-full h-full rounded-none text-transparent" controls></audio><button class="w-7 h-7 flex items-center justify-center bg-transparent p-1">'),ti=se('<div class="w-full flex items-center justify-between p-4 border border-[#eeeeee]"><div class="w-full flex items-center justify-between gap-3"><span class="text-base">To record audio, use modern browsers like Chrome or Firefox that support audio recording.</span><button class="py-2 px-4 justify-center flex items-center bg-red-500 text-white rounded-md" type="button">Okay'),ri=se("<span>Send"),si=se('<div class="h-[58px] flex items-center justify-between chatbot-input border border-[#eeeeee]" data-testid="input"><div class="flex items-center gap-3 px-4 py-2"><span></span><span></span></div><div class="flex items-center">'),ni=se('<span class="ml-1.5">Sending...'),oi="Hi there! How can I help?",ai=e=>{const t=F({showTitle:!0},e);let r,s;const[n,o]=x(""),[a,i]=x(!1),[l,c]=x(!1),[d,u]=x({}),[h,p]=x([{message:t.welcomeMessage??oi,type:"apiMessage"}],{equals:!1}),[f,g]=x(""),[m,b]=x(!1),[v,y]=x(t.chatflowConfig?.vars?.customerId?(t.chatflowConfig?.vars).customerId.toString()+"+"+Ze():Ze()),[w,P]=x([],{equals:!1}),[A,O]=x(!1),[$,L]=x(),[R,j]=x(),[N,I]=x(!1),[M,B]=x(""),[Z,z]=x([]),[H,U]=x("00:00"),[V,q]=x(!1),[W,X]=x(!1),[Y,J]=x(!1),[Q,ee]=x(!1),te=(T((()=>{if(e?.observersConfig){const{observeUserInput:t,observeLoading:r,observeMessages:s}=e.observersConfig;"function"==typeof t&&C((()=>{t(n())})),"function"==typeof r&&C((()=>{r(a())})),"function"==typeof s&&C((()=>{s(h())}))}})),T((()=>{t.ref&&t.ref({handleSubmit:ue})})),E((()=>{t.ref&&t.ref(null)})),()=>{setTimeout((()=>{r?.scrollTo(0,r.scrollHeight)}),50)}),re=e=>{Ce(t.chatflowid,v(),{chatHistory:e})},se=(e,t,r=null,s=null)=>{p((n=>{var o=n.map(((o,a)=>a===n.length-1?{...o,message:o.message+e,messageId:t,sourceDocuments:r,fileAnnotations:s}:o));return re(o),[...o]}))},ne=e=>{p((t=>{var r=t.map(((r,s)=>s===t.length-1?{...r,sourceDocuments:e}:r));return re(r),[...r]}))},ie=(e="Oops! There seems to be an error. Please try again.")=>{p((r=>(r=[...r,{message:t.errorMessage||e,type:"apiMessage"}],re(r),r))),i(!1),o(""),te()},de=e=>{ue(e)},ue=async e=>{if(console.log("handleSubmit",e),o(e),1e3,await new Promise((e=>setTimeout(e,1e3))),""===e.trim()){var r=0<Z().filter((e=>"audio"===e.type)).length;if(!(1<=Z().length&&r))return}i(!0),te();const s=Z().map((e=>({data:e.data,type:e.type,name:e.name,mime:e.mime})));if(console.log("urls",s),Z().forEach((e=>URL.revokeObjectURL(e.preview))),z([]),console.log("messages",h()),p((t=>(t=[...t,{message:e,type:"userMessage",fileUploads:s}],re(t),t))),console.log("messages::",h()),r={question:e,chatId:v()},s&&0<s.length&&(r.uploads=s),t.chatflowConfig&&(r.overrideConfig=t.chatflowConfig),M()&&(r.leadEmail=M()),m()?r.socketIOClientId=f():p((e=>[...e,{message:"",type:"apiMessage"}])),console.log("sendMessageQuery",{chatflowid:t.chatflowid,apiHost:t.apiHost,body:r}),r=await(({chatflowid:e,apiHost:t="http://localhost:3000",body:r})=>_e({method:"POST",url:t+"/api/v1/prediction/"+e,body:r}))({chatflowid:t.chatflowid,apiHost:t.apiHost,body:r}),r.data){var n=r.data;const t=n.question;if(console.log("data",n),""===e&&t&&p((e=>{var r=e.map(((r,s)=>s===e.length-2?{...r,message:t}:r));return re(r),[...r]})),s&&0<s.length&&p((e=>{var t=e.map(((t,r)=>r===e.length-2&&t.fileUploads?(r=t?.fileUploads.map((e=>({type:e.type,name:e.name,mime:e.mime}))),{...t,fileUploads:r}):t));return re(t),[...t]})),m())se("",n?.chatMessageId,n?.sourceDocuments,n?.fileAnnotations);else{let e="";e=n.text||(n.json?JSON.stringify(n.json,null,2):JSON.stringify(n,null,2)),se(e,n?.chatMessageId,n?.sourceDocuments,n?.fileAnnotations)}i(!1),o(""),te()}r.error&&(n=r.error,console.error(n),"object"==typeof n?ie("Error: "+n?.message.replaceAll("Error:"," ")):"string"==typeof n?ie(n):ie())},he=()=>{try{(e=>{var t=localStorage.getItem(e+"_EXTERNAL");if(t)try{var r,s=JSON.parse(t);s.lead?(r={lead:s.lead},localStorage.removeItem(e+"_EXTERNAL"),localStorage.setItem(e+"_EXTERNAL",JSON.stringify(r))):localStorage.removeItem(e+"_EXTERNAL")}catch(e){}})(t.chatflowid),y(t.chatflowConfig?.vars?.customerId?(t.chatflowConfig?.vars).customerId.toString()+"+"+Ze():Ze());var e=[{message:t.welcomeMessage??oi,type:"apiMessage"}];R()?.status&&!Se(t.chatflowid)?.lead&&e.push({message:"",type:"leadCaptureMessage"}),p(e)}catch(t){e=t.response.data||t.response.status+": "+t.response.statusText,console.error("error: "+e)}},pe=(_((()=>{h()&&1<h().length&&setTimeout((()=>{r?.scrollTo(0,r.scrollHeight)}),400)})),_((()=>{t.fontSize&&s&&(s.style.fontSize=t.fontSize+"px")})),_((async()=>{var e,r=((e=((e=Se(t.chatflowid))&&Object.keys(e).length&&(e.chatId&&y(e.chatId),(r=e.lead)&&(I(!!r),B(r.email)),r=(0<e?.chatHistory?.length?e.chatHistory?.map((e=>{var t={messageId:e?.messageId,message:e.message,type:e.type};return e.sourceDocuments&&(t.sourceDocuments=e.sourceDocuments),e.fileAnnotations&&(t.fileAnnotations=e.fileAnnotations),e.fileUploads&&(t.fileUploads=e.fileUploads),t})):[{message:t.welcomeMessage??oi,type:"apiMessage"}]).filter((e=>""!==e.message&&"leadCaptureMessage"!==e.type)),p([...r])),await(({chatflowid:e,apiHost:t="http://localhost:3000"})=>_e({method:"GET",url:t+"/api/v1/chatflows-streaming/"+e}))({chatflowid:t.chatflowid,apiHost:t.apiHost})).data)&&b(e?.isStreaming??!1),await(({chatflowid:e,apiHost:t="http://localhost:3000"})=>_e({method:"GET",url:t+"/api/v1/public-chatbotConfig/"+e}))({chatflowid:t.chatflowid,apiHost:t.apiHost}));if(r.data){const s=r.data;if(s.starterPrompts){const e=[];Object.getOwnPropertyNames(s.starterPrompts).forEach((t=>{e.push(s.starterPrompts[t].prompt)})),P(e.filter((e=>""!==e)))}s.chatFeedback&&(e=s.chatFeedback.status,O(e)),s.uploads&&L(s.uploads),s.leads&&(j(s.leads),s.leads?.status)&&!Se(t.chatflowid)?.lead&&p((e=>[...e,{message:"",type:"leadCaptureMessage"}]))}const s=nn(t.apiHost);return s.on("connect",(()=>{g(s.id)})),s.on("start",(()=>{p((e=>[...e,{message:"",type:"apiMessage"}]))})),s.on("sourceDocuments",ne),s.on("token",se),()=>{o(""),i(!1),p([{message:t.welcomeMessage??oi,type:"apiMessage"}]),s&&(s.disconnect(),g(""))}})),e=>{try{return new URL(e)}catch(e){}}),fe=e=>{let t="";var r=e.type.indexOf(";");t=-1===r?e.type:e.type.substring(0,r);const s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{const e={data:s.result,preview:"../assets/wave-sound.jpg",type:"audio",name:`audio_${Date.now()}.wav`,mime:t};z((t=>[...t,e]))}},ge=e=>{let t=!1;if($()&&$()?.isImageUploadAllowed&&$()?.imgUploadSizeAndTypes){const r=e.type,s=e.size/1024/1024;$()?.imgUploadSizeAndTypes.map((e=>{e.fileTypes.includes(r)&&s<=e.maxUploadSize&&(t=!0)}))}return t||alert("Cannot upload file. Kindly check the allowed file types and maximum allowed size."),t},me=async e=>{if((e=e.target.files)&&0!==e.length){var t=[];for(const r of e){if(!1===ge(r))return;const e=new FileReader,s=r.name;t.push(new Promise((t=>{e.onload=e=>{e?.target?.result&&(e=e.target.result,t({data:e,preview:URL.createObjectURL(r),type:"file",name:s,mime:r.type}))},e.readAsDataURL(r)})))}const r=await Promise.all(t);z((e=>[...e,...r]))}},be=e=>{$()?.isImageUploadAllowed&&(e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?ee(!0):"dragleave"===e.type&&ee(!1))},ve=async e=>{if($()?.isImageUploadAllowed){e.preventDefault(),ee(!1);var t=[];if(e.dataTransfer&&0<e.dataTransfer.files.length){for(const r of e.dataTransfer.files){if(!1===ge(r))return;const e=new FileReader,s=r.name;t.push(new Promise((t=>{e.onload=e=>{if(e?.target?.result){let n;e=e.target.result,r.type.startsWith("audio/")?n="../assets/wave-sound.jpg":r.type.startsWith("image/")&&(n=URL.createObjectURL(r)),t({data:e,preview:n,type:"file",name:s,mime:r.type})}},e.readAsDataURL(r)})))}const r=await Promise.all(t);z((e=>[...e,...r]))}if(e.dataTransfer&&e.dataTransfer.items)for(const t of e.dataTransfer.items)"string"===t.kind&&t.type.match("^text/uri-list")?t.getAsString((e=>{const t={data:e,preview:e,type:"url",name:e.substring(e.lastIndexOf("/")+1),mime:""};z((e=>[...e,t]))})):"string"===t.kind&&t.type.match("^text/html")&&t.getAsString((e=>{if(-1!==e.indexOf("href")){const t={data:e=(e=e.substring(e.indexOf("href")+6)).substring(0,e.indexOf('"')),preview:e,type:"url",name:e.substring(e.lastIndexOf("/")+1),mime:""};z((e=>[...e,t]))}}))}},ye=e=>{"file"===e.type&&URL.revokeObjectURL(e.preview),z(Z().filter((t=>t!==e)))},we=()=>{q(!0),mn(q,X,U)},xe=()=>{W||(yn.cancel(),clearInterval(gn)),q(!1),X(!1)},ke=async()=>{J(!0),bn(fe)};return _(function(e,t,r){const s=Array.isArray(e);let n,o=r&&r.defer;return r=>{let a;if(s){a=Array(e.length);for(let t=0;t<e.length;t++)a[t]=e[t]()}else a=e();var i;if(!o)return i=S((()=>t(a,n,r))),n=a,i;o=!1}}(Z,(e=>{var t=0<e.filter((e=>"audio"===e.type)).length;return 1<=e.length&&t&&(q(!1),X(!1),de("")),()=>{z([])}}))),[(()=>{const o=Ua(),i=o.firstChild,l=i.firstChild,d=l.nextSibling;o.addEventListener("dragenter",be);var p=("function"==typeof(p=s)?le(p,o):s=o,ce(o,(()=>{const e=C((()=>!!Q()));return()=>{return e()&&((t=Va()).addEventListener("drop",ve),t.addEventListener("dragover",be),t.addEventListener("dragend",be),t.addEventListener("dragleave",be),t.addEventListener("dragenter",be),t);var t}})(),i),ce(o,(()=>{const e=C((()=>!(!Q()||!$()?.isImageUploadAllowed)));return()=>e()&&(()=>{const e=qa();return e.firstChild,ce(e,D(G,{get each(){return $()?.imgUploadSizeAndTypes},children:e=>{return[(ce(r=Fa(),(()=>e.fileTypes?.join(", "))),r),(r=Wa(),(t=r.firstChild.nextSibling).nextSibling,ce(r,(()=>e.maxUploadSize),t),r)];var t,r}}),null),k((()=>null!=t.bubbleBackgroundColor?e.style.setProperty("border-color",t.bubbleBackgroundColor):e.style.removeProperty("border-color"))),e})()})(),i),ce(o,(()=>{const e=C((()=>!!t.showTitle));return()=>{return e()?(s=(r=Ya()).firstChild,r.style.setProperty("background-image","linear-gradient(180deg, rgba(110,49,159,0.2) 0%, rgba(252,70,107,0) 60%"),ce(r,D(K,{get when(){return t.titleAvatarSrc},get children(){return[((e=Ga()).style.setProperty("width","15px"),e),D(Nt,{get initialAvatarSrc(){return t.titleAvatarSrc}})];var e}}),s),ce(r,D(K,{get when(){return t.title},get children(){var e=Ka();return ce(e,(()=>t.title)),e}}),s),s.style.setProperty("flex","1"),ce(r,D(gt,{get sendButtonColor(){return t.bubbleTextColor},type:"button",get isDisabled(){return 1===h().length},class:"my-2 ml-2","on:click":he,get children(){var e=Xa();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}),null),r):null;var r,s}})(),i),r);return"function"==typeof p?le(p,l):r=l,ce(l,D(G,{get each(){return[...h()]},children:(e,r)=>[C((()=>{const r=C((()=>"userMessage"===e.type));return()=>r()&&D(rr,{message:e,get apiHost(){return t.apiHost},get chatflowid(){return t.chatflowid},get chatId(){return v()},get backgroundColor(){return t.userMessage?.backgroundColor},get textColor(){return t.userMessage?.textColor},get showAvatar(){return t.userMessage?.showAvatar},get avatarSrc(){return t.userMessage?.avatarSrc},get fontSize(){return t.fontSize}})})()),C((()=>{const r=C((()=>"apiMessage"===e.type));return()=>r()&&D(vr,{message:e,get fileAnnotations(){return e.fileAnnotations},get chatflowid(){return t.chatflowid},get chatId(){return v()},get apiHost(){return t.apiHost},get backgroundColor(){return t.botMessage?.backgroundColor},get textColor(){return t.botMessage?.textColor},get feedbackColor(){return t.feedback?.color},get showAvatar(){return t.botMessage?.showAvatar},get avatarSrc(){return t.botMessage?.avatarSrc},get chatFeedbackStatus(){return A()},get fontSize(){return t.fontSize}})})()),C((()=>{const r=C((()=>!("leadCaptureMessage"!==e.type||!R()?.status||Se(t.chatflowid)?.lead)));return()=>r()&&D(za,{message:e,get chatflowid(){return t.chatflowid},get chatId(){return v()},get apiHost(){return t.apiHost},get backgroundColor(){return t.botMessage?.backgroundColor},get textColor(){return t.botMessage?.textColor},get fontSize(){return t.fontSize},get showAvatar(){return t.botMessage?.showAvatar},get avatarSrc(){return t.botMessage?.avatarSrc},get leadsConfig(){return R()},get sendButtonColor(){return t.textInput?.sendButtonColor},get isLeadSaved(){return N()},setIsLeadSaved:I,setLeadEmail:B})})()),C((()=>{const t=C((()=>!("userMessage"!==e.type||!a()||r()!==h().length-1)));return()=>t()&&D(kr,{})})()),C((()=>{const t=C((()=>!("apiMessage"!==e.type||""!==e.message||!a()||r()!==h().length-1)));return()=>t()&&D(kr,{})})()),C((()=>{const t=C((()=>!(!e.sourceDocuments||!e.sourceDocuments.length)));return()=>{return t()&&(ce(r=Ja(),D(G,{get each(){return[...(e=>{const t=[],r=[];return e.sourceDocuments.forEach((e=>{pe(e.metadata.source)&&!t.includes(e.metadata.source)?(t.push(e.metadata.source),r.push(e)):pe(e.metadata.source)||r.push(e)})),r.filter((e=>!!pe(e.metadata.source)&&"https://www.waff.at"===new URL(e.metadata.source).origin))})(e)]},children:e=>{const t=pe(e.metadata.source);return D(Tr,{get pageContent(){return e.pageContent},get metadata(){return e.metadata},onSourceClick:()=>{t?window.open(e.metadata.source,"_blank"):(u(e),c(!0))}})}})),r);var r}})())]})),ce(i,D(K,{get when(){return 1===h().length},get children(){return D(K,{get when(){return 0<w().length},get children(){var e=Ha();return ce(e,D(G,{get each(){return[...w()]},children:e=>D(Pr,{prompt:e,onPromptClick:()=>de(e)})})),e}})}}),d),ce(i,D(K,{get when(){return 0<Z().length},get children(){var t=Da();return ce(t,D(G,{get each(){return[...Z()]},children:t=>C((()=>{const s=C((()=>!!t.mime.startsWith("image/")));return()=>(s()?()=>{const e=Qa(),r=e.firstChild,s=r.nextSibling;return e.$$click=()=>ye(t),ce(s,D(ct,{})),k((()=>oe(r,"src",t.data))),e}:()=>{const s=ei(),n=s.firstChild,o=n.nextSibling;return o.$$click=()=>ye(t),ce(o,D(ct,{color:"white"})),k((o=>{var a=`${r?e.isFullPage?r?.offsetWidth/4:r?.offsetWidth/2:"200"}px`,i=t.data;return a!==o._v$&&(null!=(o._v$=a)?s.style.setProperty("width",a):s.style.removeProperty("width")),i!==o._v$2&&oe(n,"src",o._v$2=i),o}),{_v$:void 0,_v$2:void 0}),s})()})())})),t}}),d),ce(d,(()=>{const e=C((()=>!!V()));return()=>e()?C((()=>{const e=C((()=>!!W()));return()=>{if(e())return(r=ti()).firstChild.firstChild.nextSibling.$$click=()=>xe(),r;{const e=si(),r=e.firstChild,s=r.firstChild,n=s.nextSibling,o=r.nextSibling;return e.style.setProperty("margin","auto"),ce(s,D(tt,{color:"red"})),ce(n,(()=>H()||"00:00")),ce(r,(()=>{const e=C((()=>!!Y()));return()=>e()&&ni()})(),null),ce(o,D(un,{get buttonColor(){return t.textInput?.sendButtonColor},type:"button",class:"m-0","on:click":xe,get children(){var e=ri();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}),null),ce(o,D(ft,{get sendButtonColor(){return t.textInput?.sendButtonColor},type:"button",get isDisabled(){return a()},class:"m-0","on:click":ke,get children(){var e=ri();return e.style.setProperty("font-family","Poppins, sans-serif"),e}}),null),k((r=>{var s=t.textInput?.backgroundColor??"#ffffff",n=t.textInput?.textColor??"#303235";return s!==r._v$3&&(null!=(r._v$3=s)?e.style.setProperty("background-color",s):e.style.removeProperty("background-color")),n!==r._v$4&&(null!=(r._v$4=n)?e.style.setProperty("color",n):e.style.removeProperty("color")),r}),{_v$3:void 0,_v$4:void 0}),e}var r}})()):D($t,{get backgroundColor(){return t.textInput?.backgroundColor},get textColor(){return t.textInput?.textColor},get placeholder(){return t.textInput?.placeholder},get sendButtonColor(){return t.textInput?.sendButtonColor},get maxChars(){return t.textInput?.maxChars},get maxCharsWarningMessage(){return t.textInput?.maxCharsWarningMessage},get fontSize(){return t.fontSize},get disabled(){return a()||R()?.status&&!N()},get defaultValue(){return n()},onSubmit:ue,get uploadsConfig(){return $()},setPreviews:z,onMicrophoneClicked:we,handleFileChange:me})})()),ce(i,D(Lr,{get footer(){return t.footer},get badgeBackgroundColor(){return t.badgeBackgroundColor},get poweredByTextColor(){return t.poweredByTextColor},botContainer:s}),null),k((()=>ae(o,"relative flex w-full h-full text-base overflow-hidden bg-cover bg-center flex-col items-center chatbot-container "+t.class))),o})(),C((()=>{const e=C((()=>!!l()));return()=>e()&&D(cn,{get isOpen(){return l()},get value(){return d()},onClose:()=>c(!1)})})())]},ii=(ne(["click"]),se("<style>")),li=se('<div part="bot">'),ci=e=>{const[t]=W(e,["theme"]),[r,s]=x(!1),[n,o]=x(!1),[a,i]=x({bottom:t.theme?.button?.bottom??20,right:t.theme?.button?.right??20});var l;E((()=>{o(!1)}));const c=Te(e.theme?.button?.size),d=(e.theme?.button?.bottom??20)+c+10;return[(ce(l=ii(),we),l),D($e,F((()=>t.theme?.button),{toggleBot:()=>{r()?s(!1):(n()||o(!0),s(!0))},get isBotOpened(){return r()},setButtonPosition:i,get dragAndDrop(){return t.theme?.button?.dragAndDrop??!1}})),(()=>{const s=li();return s.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),s.style.setProperty("transform-origin","bottom right"),s.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),s.style.setProperty("z-index","42424242"),ce(s,D(K,{get when(){return n()},get children(){return D(ai,{get badgeBackgroundColor(){return t.theme?.chatWindow?.backgroundColor},get bubbleBackgroundColor(){return t.theme?.button?.backgroundColor??"#3B81F6"},get bubbleTextColor(){return t.theme?.button?.iconColor??"white"},get showTitle(){return t.theme?.chatWindow?.showTitle},get title(){return t.theme?.chatWindow?.title},get titleAvatarSrc(){return t.theme?.chatWindow?.titleAvatarSrc},get welcomeMessage(){return t.theme?.chatWindow?.welcomeMessage},get errorMessage(){return t.theme?.chatWindow?.errorMessage},get poweredByTextColor(){return t.theme?.chatWindow?.poweredByTextColor},get textInput(){return t.theme?.chatWindow?.textInput},get botMessage(){return t.theme?.chatWindow?.botMessage},get userMessage(){return t.theme?.chatWindow?.userMessage},get feedback(){return t.theme?.chatWindow?.feedback},get fontSize(){return t.theme?.chatWindow?.fontSize},get footer(){return t.theme?.chatWindow?.footer},get chatflowid(){return e.chatflowid},get chatflowConfig(){return e.chatflowConfig},get apiHost(){return e.apiHost},get observersConfig(){return e.observersConfig}})}})),k((e=>{var n=t.theme?.chatWindow?.height?t.theme?.chatWindow?.height.toString()+"px":"calc(100% - 150px)",o=t.theme?.chatWindow?.width?t.theme?.chatWindow?.width.toString()+"px":void 0,i=r()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",l=t.theme?.chatWindow?.backgroundColor||"#ffffff",u=Math.min(a().bottom+c+10,window.innerHeight-d)+"px",h=Math.min(a().right,window.innerWidth-410)+"px",p="fixed sm:right-5 rounded-lg w-full sm:w-[400px] max-h-[704px]"+(r()?" opacity-1":" opacity-0 pointer-events-none")+` bottom-${d}px`;return n!==e._v$&&(null!=(e._v$=n)?s.style.setProperty("height",n):s.style.removeProperty("height")),o!==e._v$2&&(null!=(e._v$2=o)?s.style.setProperty("width",o):s.style.removeProperty("width")),i!==e._v$3&&(null!=(e._v$3=i)?s.style.setProperty("transform",i):s.style.removeProperty("transform")),l!==e._v$4&&(null!=(e._v$4=l)?s.style.setProperty("background-color",l):s.style.removeProperty("background-color")),u!==e._v$5&&(null!=(e._v$5=u)?s.style.setProperty("bottom",u):s.style.removeProperty("bottom")),h!==e._v$6&&(null!=(e._v$6=h)?s.style.setProperty("right",h):s.style.removeProperty("right")),p!==e._v$7&&ae(s,e._v$7=p),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),s})()]};const di=se('<div class="flex"><button part="button" type="button"><span class="inline-block whitespace-nowrap">'),ui=se('<input class="px-4 py-3 w-full mr-4 border border-white" type="search" placeholder="Stelle mir eine Frage ...">'),hi=e=>{const t=Ee(e.size),[r,s]=x({bottom:e.bottom??20,right:e.right??20});let n,o;const a=t=>{e.dragAndDrop&&(n=t.clientX,o=r().right,document.addEventListener("mousemove",i),document.addEventListener("mouseup",l))},i=a=>{a=n-a.clientX,a=o+a;var i=window.innerWidth-t;a={right:Math.min(Math.max(a,20),i),bottom:r().bottom};s(a),e.setButtonPosition(a)},l=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l)};{const s=di(),n=s.firstChild,o=n.firstChild;return ce(s,(()=>{const t=C((()=>(e.showInput,!1)));return()=>{return t()&&((e=ui()).style.setProperty("background-color","#ffffff88"),e);var e}})(),n),n.$$mousedown=a,n.$$click=()=>e.toggleBot(),ae(n,`button-size-${t} fixed shadow-md rounded-sm flex justify-center items-center px-4 py-3 gap-3 hover:scale-110 active:scale-95 transition-transform duration-200 animate-fade-in`),n.style.setProperty("z-index","42424242"),ce(o,(()=>e.buttonLabel??"Zum Chatbot")),ce(n,D(it,{size:16}),null),k((t=>{var s=e.backgroundColor??"#3B81F6",o=r().right+"px",a=r().bottom+"px",i=e.dragAndDrop?"grab":"pointer";return s!==t._v$&&(null!=(t._v$=s)?n.style.setProperty("background-color",s):n.style.removeProperty("background-color")),o!==t._v$2&&(null!=(t._v$2=o)?n.style.setProperty("right",o):n.style.removeProperty("right")),a!==t._v$3&&(null!=(t._v$3=a)?n.style.setProperty("bottom",a):n.style.removeProperty("bottom")),i!==t._v$4&&(null!=(t._v$4=i)?n.style.setProperty("cursor",i):n.style.removeProperty("cursor")),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),s}},pi=(ne(["click","mousedown"]),se('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76 57" fill="none"><g clip-path="url(#clip0_411_3315)"><path d="M74.2001 4.26996C75.6746 4.26996 76.0001 3.76741 76.0001 3.3264C76.0001 3.0529 75.878 2.82385 75.617 2.70077C75.3696 2.59821 74.9967 2.56061 74.4916 2.54009C74.0442 2.51616 73.6781 2.51616 73.4781 2.46488C73.2951 2.42386 73.2375 2.34181 73.2375 2.22899C73.2375 1.9555 73.5527 1.82559 74.2239 1.82559C74.9967 1.82559 75.1357 2.04096 75.1425 2.3213H75.8373C75.8373 1.78456 75.5492 1.29911 74.2035 1.29911C73.1188 1.29911 72.5053 1.68542 72.5053 2.2666C72.5053 2.50249 72.5968 2.7247 72.8104 2.84094C73.0273 2.96401 73.4578 3.03239 74.0442 3.04948C74.4103 3.05974 74.8408 3.07341 75.0442 3.11444C75.2272 3.15546 75.2747 3.24093 75.2747 3.35716C75.2747 3.5828 75.0781 3.75032 74.2069 3.75032C73.3222 3.75032 73.2103 3.50759 73.2036 3.2717H72.5087C72.5019 3.6922 72.7324 4.26996 74.2001 4.26996ZM71.1087 2.50933H68.8783C68.9766 2.0649 69.319 1.82217 70.0308 1.82217C70.8071 1.82217 71.1087 2.11276 71.1087 2.49223V2.50933ZM71.7799 2.7247C71.7799 1.83926 71.2104 1.29569 70.0003 1.29569C68.8071 1.29569 68.1123 1.89054 68.1123 2.80675C68.1123 3.51784 68.5495 4.26996 70.0444 4.26996C71.2545 4.26996 71.7426 3.77766 71.7765 3.28195H71.1054C71.0579 3.51784 70.7969 3.74348 70.0444 3.74348C69.18 3.74348 68.9021 3.39135 68.8512 2.95718H71.7765V2.7247H71.7799ZM65.2921 3.6922C64.5395 3.6922 64.0989 3.3264 64.0989 2.74864C64.0989 2.24951 64.4989 1.87345 65.2988 1.87345C66.17 1.87345 66.5835 2.24267 66.5835 2.69394V2.7794C66.5801 3.16914 66.1496 3.6922 65.2921 3.6922ZM65.17 4.26996C66.0174 4.26996 66.4615 3.94518 66.5971 3.47682H66.6072C66.6005 3.71271 66.5903 4.0033 66.5801 4.21184H67.3157V0.160679H66.5801V1.91447H66.5733C66.4242 1.52132 65.9869 1.29569 65.1904 1.29569C64.0141 1.29569 63.3667 1.94182 63.3667 2.74864C63.3701 3.66827 64.0243 4.26996 65.17 4.26996ZM56.7162 4.21184H57.4517V2.92641C57.4517 2.23241 58.0754 1.90422 58.7669 1.90422C59.6143 1.90422 59.8753 2.24609 59.8753 2.75547V4.21184H60.6109V2.55719C60.6109 1.85635 60.2041 1.29569 59.0449 1.29569C58.1263 1.29569 57.6687 1.60679 57.4551 2.19139H57.4449L57.4551 1.35381H56.7196V4.21184H56.7162ZM53.9909 3.6922C53.1028 3.6922 52.7808 3.25802 52.7808 2.78966C52.7808 2.31446 53.1062 1.87687 53.9909 1.87687C54.8756 1.87687 55.201 2.31788 55.201 2.78966C55.201 3.26144 54.879 3.6922 53.9909 3.6922ZM53.9909 4.26996C55.3976 4.26996 55.9365 3.54861 55.9365 2.78966C55.9365 2.03755 55.3874 1.29569 53.9909 1.29569C52.5943 1.29569 52.0452 2.03755 52.0452 2.78966C52.0452 3.54177 52.5808 4.26996 53.9909 4.26996ZM50.4927 4.21184H51.2283V1.35381H50.4927V4.21184ZM50.4758 0.943561H51.252V0.273496H50.4758V0.943561ZM48.8894 4.25286C49.2114 4.25286 49.5199 4.205 49.6453 4.1674V3.60673C49.4962 3.63408 49.2046 3.67168 48.9674 3.67168C48.2555 3.67168 48.0488 3.48024 48.0488 3.06999V1.93498H49.6656V1.35722H48.0488V0.707671H47.4284L47.381 1.14185C47.364 1.29227 47.3234 1.35722 47.2047 1.35722H46.7471V1.93498H47.3132V3.10418C47.32 3.76057 47.7098 4.25286 48.8894 4.25286ZM44.1405 3.74348C43.4185 3.74348 43.2557 3.5281 43.2557 3.34007C43.2557 3.06658 43.4896 3.02213 43.9201 3.02213H45.4523V3.03923C45.4556 3.37426 45.0489 3.74348 44.1405 3.74348ZM43.9981 4.26312C44.9506 4.26312 45.3573 3.97937 45.4828 3.52126H45.4895C45.4828 3.71955 45.4726 4.01356 45.4557 4.20842H46.1912V2.58796C46.1912 1.78798 45.5845 1.29227 44.3777 1.29227C43.1947 1.29227 42.6795 1.67858 42.6795 2.23583C42.6795 2.24609 42.6795 2.28711 42.6863 2.33839H43.3846C43.3778 2.3042 43.3778 2.28711 43.3778 2.27002C43.3778 2.02729 43.6184 1.81875 44.3574 1.81875C45.137 1.81875 45.4523 2.05122 45.4523 2.51958V2.5777H43.7472C43.0354 2.5777 42.5846 2.81017 42.5846 3.364C42.588 3.81869 42.9642 4.26312 43.9981 4.26312ZM35.8527 4.21184H36.5882V2.91615C36.5882 2.22899 37.1509 1.90422 37.6255 1.90422C38.2221 1.90422 38.4627 2.19481 38.4627 2.7247V4.21184H39.1983V2.91615C39.1983 2.19139 39.7678 1.90422 40.2423 1.90422C40.8389 1.90422 41.0728 2.19481 41.0728 2.7247V4.21184H41.8084V2.53326C41.8084 1.77089 41.4084 1.29569 40.5135 1.29569C39.8186 1.29569 39.3373 1.5897 39.1814 2.19139H39.1746C39.0729 1.64781 38.6593 1.29569 37.8967 1.29569C37.195 1.29569 36.7713 1.61363 36.5815 2.19822H36.5747L36.5849 1.35381H35.8493V4.21184H35.8527ZM31.6461 4.21184H32.3817V3.13153C32.3817 2.49565 32.7952 1.90422 33.5477 1.90422C34.1545 1.90422 34.3578 2.21532 34.3578 2.83068C34.3578 2.93325 34.3511 3.05632 34.3477 3.12469H35.0358C35.0426 3.03239 35.0527 2.8341 35.0527 2.61531C35.0527 1.81875 34.6968 1.29569 33.7613 1.29569C32.9647 1.29569 32.5613 1.71277 32.385 2.22557H32.3749L32.385 1.35381H31.6495V4.21184H31.6461ZM28.9242 3.6922C28.0361 3.6922 27.7141 3.25802 27.7141 2.78966C27.7141 2.31446 28.0395 1.87687 28.9242 1.87687C29.8089 1.87687 30.1343 2.31788 30.1343 2.78966C30.1343 3.26144 29.8123 3.6922 28.9242 3.6922ZM28.9242 4.26996C30.3309 4.26996 30.8699 3.54861 30.8699 2.78966C30.8699 2.03755 30.3207 1.29569 28.9242 1.29569C27.5276 1.29569 26.9785 2.03755 26.9785 2.78966C26.9785 3.54519 27.5107 4.26996 28.9242 4.26996ZM24.3041 4.21184H25.0396V1.93157H26.6226V1.35381H25.0396V1.15552C25.0396 0.755533 25.2633 0.57776 25.8328 0.57776C26.1141 0.57776 26.4192 0.635878 26.5684 0.676903V0.116236C26.4192 0.0649553 26.0802 0 25.7379 0C24.8939 0 24.3108 0.36922 24.3108 1.10424V1.35381H23.7414V1.93157H24.3108V4.21184H24.3041ZM19.2873 4.21184H20.0229V2.92641C20.0229 2.23241 20.65 1.90422 21.3381 1.90422C22.1855 1.90422 22.4465 2.24609 22.4465 2.75547V4.21184H23.1821V2.55719C23.1821 1.85635 22.7753 1.29569 21.616 1.29569C20.6974 1.29569 20.2398 1.60679 20.0263 2.19139H20.0161L20.0263 1.35381H19.2907V4.21184H19.2873ZM17.5586 4.21184H18.345V0.406825H17.5586V4.21184ZM13.9926 2.50933H11.7622C11.8605 2.0649 12.2029 1.82217 12.9147 1.82217C13.691 1.82217 13.9926 2.11276 13.9926 2.49223V2.50933ZM14.6638 2.7247C14.6638 1.83926 14.0943 1.29569 12.8842 1.29569C11.6911 1.29569 10.9962 1.89054 10.9962 2.80675C10.9962 3.51784 11.4334 4.26996 12.9283 4.26996C14.1384 4.26996 14.6265 3.77766 14.6604 3.28195H13.9893C13.9452 3.51784 13.6808 3.74348 12.9283 3.74348C12.0639 3.74348 11.786 3.39135 11.7351 2.95718H14.6604V2.7247H14.6638ZM6.3557 4.21184H7.09126V2.92641C7.09126 2.23241 7.71496 1.90422 8.40646 1.90422C9.25388 1.90422 9.51488 2.24609 9.51488 2.75547V4.21184H10.2504V2.55719C10.2504 1.85635 9.84368 1.29569 8.68441 1.29569C7.76581 1.29569 7.3082 1.60679 7.09465 2.19139H7.08448L7.09465 1.35381H6.35909V4.21184H6.3557ZM4.7456 4.21184H5.48116V1.35381H4.7456V4.21184ZM4.72865 0.943561H5.5015V0.273496H4.72865V0.943561ZM0.386475 4.21184H3.94903V3.57938H1.17966V2.55719H3.31855V2.03755H1.17966V1.03587H3.8914V0.406825H0.386475V4.21184Z" fill="currentColor"></path><path d="M63.1327 50.3297C63.5903 49.6494 63.631 49.1502 63.631 48.8631C63.631 48.5759 63.5903 48.0699 63.1259 47.3862C62.4446 46.2341 61.2548 44.9111 59.5057 43.3521C58.1126 42.1111 56.8584 41.171 56.6177 40.9898L56.2618 40.7266L54.1636 43.6188L54.5161 43.882C55.9499 44.9418 58.2312 46.8392 59.482 48.3913C59.6108 48.5793 59.6311 48.7571 59.6311 48.8631C59.6311 48.9725 59.6176 49.1537 59.482 49.3485C58.2312 50.8972 55.9465 52.7912 54.5161 53.8475L54.1636 54.1108L56.2584 56.9996L56.6143 56.7363C56.6719 56.6953 58.0142 55.7039 59.5023 54.374C61.2616 52.8117 62.4513 51.4852 63.1327 50.3297ZM73.2576 48.8631C73.2576 48.5759 73.217 48.0699 72.7526 47.3862C72.0713 46.2341 70.8815 44.9111 69.1324 43.3521C67.7392 42.1111 66.4851 41.171 66.2444 40.9898L65.8885 40.7266L63.7903 43.6188L64.1428 43.882C65.5766 44.9418 67.8613 46.8392 69.1087 48.3913C69.2375 48.5793 69.2578 48.7571 69.2578 48.8631C69.2578 48.9725 69.2443 49.1537 69.1087 49.3485C67.8579 50.8972 65.5732 52.7912 64.1428 53.8475L63.7903 54.1108L65.8851 56.9996L66.241 56.7363C66.2986 56.6953 67.6409 55.7039 69.129 54.374C70.8849 52.8117 72.0746 51.4818 72.756 50.3263C73.217 49.6494 73.2576 49.1502 73.2576 48.8631Z" fill="currentColor"></path><path d="M26.3615 29.7019C27.2123 26.625 27.8225 23.5038 28.192 20.3449H22.0092C21.9414 22.0884 21.7448 23.9858 21.4228 26.0439C21.1008 28.0985 20.6499 30.1839 20.0737 32.3001H19.833L16.3077 20.697H11.9893L8.46403 32.3001H8.22336C7.64712 30.1873 7.1929 28.1019 6.85732 26.0439C6.52174 23.9892 6.33192 22.0884 6.28785 20.3449H0C0.369475 23.5038 0.972838 26.6216 1.81348 29.7019C2.65412 32.7787 3.67441 35.5615 4.87097 38.0469H11.23L14.0299 29.3019H14.2705L17.0331 38.0469H23.321C24.4972 35.5615 25.5107 32.7821 26.3615 29.7019ZM39.3406 31.1138C39.3406 31.9753 39.0389 32.683 38.4424 33.2402C37.8424 33.7975 37.0594 34.0778 36.0933 34.0778C34.9645 34.0778 34.3985 33.6026 34.3985 32.6488C34.3985 31.6505 35.1137 31.0796 36.5407 30.9429L39.3406 30.7001V31.1138ZM40.5812 38.0469H46.1776V37.7666C45.9234 37.2777 45.7234 36.6042 45.5742 35.7461C45.4251 34.888 45.3505 33.9684 45.3505 32.9941V27.5583C45.3505 22.4713 42.7608 19.9278 37.578 19.9278C35.3205 19.9278 33.1782 20.3449 31.1512 21.1825L30.2529 26.1293H30.4936C31.1613 25.7362 32.0596 25.4148 33.1884 25.1721C34.3171 24.9294 35.3883 24.8063 36.4018 24.8063C37.4153 24.8063 38.1576 24.9875 38.6288 25.3464C39.0999 25.7054 39.3372 26.2934 39.3372 27.1071V27.2814L35.0866 27.6643C30.7342 28.0609 28.558 29.907 28.558 33.206C28.558 34.7615 29.0428 36.0059 30.0088 36.9358C30.9749 37.8657 32.2901 38.3307 33.9476 38.3307C35.2832 38.3307 36.4696 38.0674 37.5068 37.5478C38.544 37.0247 39.2796 36.3239 39.7169 35.4384H39.9575C40.0287 36.3888 40.2389 37.2606 40.5812 38.0469ZM74.9661 11.2511C73.9052 10.7623 72.5595 10.5195 70.9223 10.5195C68.7122 10.5195 66.9597 11.2101 65.6716 12.5913C64.3802 13.9724 63.7361 15.8595 63.7361 18.2526V20.3449H56.3161V18.5672C56.3161 16.7313 57.0991 15.8151 58.6652 15.8151C59.2177 15.8151 59.7465 15.945 60.2549 16.198H60.4956L61.3261 11.2511C60.2651 10.7623 58.9194 10.5195 57.2856 10.5195C55.0755 10.5195 53.323 11.2101 52.035 12.5913C50.7435 13.9724 50.0995 15.8595 50.0995 18.2526V20.3449H46.9911V25.2234H50.0995V38.0469H56.3195V25.2234H63.7395V38.0469H69.9596V25.2234H73.3459L74.1424 20.3449H69.963V18.5672C69.963 16.7313 70.746 15.8151 72.312 15.8151C72.8645 15.8151 73.3933 15.945 73.9018 16.198H74.1424L74.9661 11.2511Z" fill="currentColor"></path></g><defs><clipPath id="clip0_411_3315"><rect width="76" height="57" fill="currentColor">')),fi=e=>{const t=e.size||76,r=t/76*57||57;return oe(e=pi(),"width",t),oe(e,"height",r),e},gi=se("<style>"),mi=se('<div id="chatbot-modal" part="bot"><div class="md:p-8 absolute inset-0 overflow-y-auto flex flex-col scrollbar-transparent"><div class="flex justify-end md:container w-full mx-auto p-4 md:pb-3"><button class="text-white flex flex-nowrap items-center" aria-label="schlieen" title="schlieen"><span>schlieen</span><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="md:container mx-auto flex gap-x-6 md:flex-row flex-col flex-grow items-stretch md:justify-stretch"><div class="relative grid md:w-3/5 h-[90vh] max-h-screen md:order-2 p-4 md:p-0"></div><article class="md:w-2/5 flex flex-col p-8 md:p-0"><div class="flex flex-col overflow-y-auto max-h-full flex-grow scrollbar-transparent"><h1 class="text-white text-3xl font-bold"><span class="sr-only"></span></h1><main class="flex-grow"><p class="text-white text-xl my-4">Willkommen beim Chat des waff zum Thema <strong>Sozial- und Pflegeberufe</strong></p><p class="text-white text-lg my-4">Dieser versucht dir bei Fragen rund um das Thema auf Basis der Informationen auf der Website und in unseren Informationsunterlagen weiter zu helfen.</p><p class="text-white text-lg my-4">Wir befinden uns in einer Testphase und freuen uns ber dein Feedback. Bitte beachte, dass der Chat keine verbindlichen Ausknfte geben kann und auch Fehler machen kann.</p></main><footer><p class="text-white my-4">Bei weiteren Fragen wenden Sie sich gerne an unser Infotelefon fr arbeitslose Wiener*innen unter der<span class="text-white font-bold text-xl mt-1 block">Nummer: <a href="tel:0043" class="underline">01 217 48 777</a></span></p><p class="text-white my-4">Mo  Do 8  17 Uhr<br> Fr 8  15 Uhr<br><br> Lassallestrae 1 1020 Wien<br><a href="mailto:ai-kundInnencenter@waff.at" class="underline">ai-kundInnencenter@waff.at</a></p><p class="text-white mt-8 flex gap-2 text-sm"><a href="https://www.waff.at/" class="underline">www.waff.at</a><a href="https://www.waff.at/" class="underline">Impressum</a><a href="https://www.waff.at/" class="underline">Datenschutz'),bi=(e,t)=>{console.log("Modal props",e);const[r]=W(e,["theme"]),[s,n]=x(!1),[o,a]=x(!1),[i,l]=x("Zum Chatbot"),[c,d]=x(!0);var[,u]=x({bottom:r.theme?.button?.bottom??20,right:r.theme?.button?.right??20});let h=null;T((()=>{var e=t.element.attributes.getNamedItem("buttonLabel")?.value;e&&l(e),e=t.element.attributes.getNamedItem("showInput")?.value;d("false"!=e&&"0"!=e&&"no"!=e&&null!=e),console.log("Modal mounted",t)}));const p=()=>{o()||a(!0),n(!0)},f=()=>{n(!1)};window.addEventListener("openBot",(e=>{p(),(e=e.detail.msg)&&h&&h.handleSubmit(e)})),E((()=>{a(!1),window.removeEventListener("openBot",p)}));var g=Ee(e.theme?.button?.size);const m=(e.theme?.button?.bottom??20)+g+10;return window.onkeydown=e=>{"Escape"===e.key&&s()&&f()},[(ce(g=gi(),we,null),ce(g,":host{--chatbot-container-bg-image: ;--chatbot-container-bg-color:rgba(255,255,255,var(--tw-bg-opacity,0.8));--chatbot-container-font-family:Arial,sans-serif;--chatbot-button-bg-color:#fff;--chatbot-button-color:#000;--chatbot-host-bubble-bg-color:transparent;--chatbot-host-bubble-color:#303235;--chatbot-guest-bubble-bg-color:rgba(255,71,71,var(--tw-bg-opacity,0.8));--chatbot-guest-bubble-color:#fff;--chatbot-input-bg-color:#fff;--chatbot-input-color:#303235;--chatbot-input-placeholder-color:#9095a0;--chatbot-header-bg-color:#fff;--chatbot-header-color:#303235;--chatbot-border-radius:6px;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}.chatbot-modal{background-color:#fff;background-image:radial-gradient(circle at .54% 7.38%,#70238a,transparent 28%),radial-gradient(circle at 58.91% 57.57%,#70238a,transparent 56%),radial-gradient(circle at 8.64% 11.39%,#ff4747,transparent 52%),radial-gradient(circle at 82.45% 99.62%,#ff4747,transparent 34%),radial-gradient(circle at 99.93% 48.44%,#70238a,transparent 19%),radial-gradient(circle at 50% 50%,#70238a,#70238a 100%),radial-gradient(circle at 38.64% 15.39%,#ff4747,transparent 52%);background-position:50%;background-repeat:no-repeat;background-size:100% 100%;box-shadow:0 0 10px rgba(0,0,0,.1);inset:0;position:fixed;transition:all .3s;z-index:1000}.chatbot-container{border-radius:1rem;font-family:Helvetica,Arial,-apple-system,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}.chatbot-header{background-color:#fff}.chatbot-header .chatbot-button{color:#70238a}.chatbot-guest-bubble{border-radius:8px;border-bottom-right-radius:0;color:var(--chatbot-guest-bubble-color)}.scrollbar-transparent{scrollbar-color:hsla(0,100%,89%,.5) transparent}.chatbot-input:focus-within{border-color:#000}.chatbot-prompt-bubble{background-color:var(--chatbot-guest-bubble-bg-color);border-radius:8px;border-bottom-right-radius:0;color:var(--chatbot-guest-bubble-color)}",null),g),D(hi,F((()=>r.theme?.button),{toggleBot:()=>{(s()?f:p)()},get isBotOpened(){return s()},get buttonLabel(){return i()},get showInput(){return c()},setButtonPosition:u,get dragAndDrop(){return r.theme?.button?.dragAndDrop??!1}})),(()=>{const t=mi(),n=t.firstChild.firstChild,a=n.firstChild,i=n.nextSibling.firstChild,l=i.nextSibling.firstChild.firstChild,c=l.firstChild;return t.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),t.style.setProperty("transform-origin","center"),t.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),t.style.setProperty("z-index","42424242"),a.$$click=f,ce(i,D(K,{get when(){return o()},get children(){return D(ai,{get badgeBackgroundColor(){return r.theme?.chatWindow?.backgroundColor},get bubbleBackgroundColor(){return r.theme?.button?.backgroundColor??"#3B81F6"},get bubbleTextColor(){return r.theme?.button?.iconColor??"white"},get showTitle(){return r.theme?.chatWindow?.showTitle},get title(){return r.theme?.chatWindow?.title},get titleAvatarSrc(){return r.theme?.chatWindow?.titleAvatarSrc},get welcomeMessage(){return r.theme?.chatWindow?.welcomeMessage},get errorMessage(){return r.theme?.chatWindow?.errorMessage},get poweredByTextColor(){return r.theme?.chatWindow?.poweredByTextColor},get textInput(){return r.theme?.chatWindow?.textInput},get botMessage(){return r.theme?.chatWindow?.botMessage},get userMessage(){return r.theme?.chatWindow?.userMessage},get feedback(){return r.theme?.chatWindow?.feedback},get fontSize(){return r.theme?.chatWindow?.fontSize},get footer(){return r.theme?.chatWindow?.footer},get chatflowid(){return e.chatflowid},get chatflowConfig(){return e.chatflowConfig},get apiHost(){return e.apiHost},get observersConfig(){return e.observersConfig},ref:e=>h=e})}})),ce(l,D(fi,{}),c),k((e=>{var r=s()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",n="chatbot-modal fixed inset-0 "+(s()?" opacity-1":" opacity-0 pointer-events-none")+` bottom-${m}px`;return r!==e._v$&&(null!=(e._v$=r)?t.style.setProperty("transform",r):t.style.removeProperty("transform")),n!==e._v$2&&ae(t,e._v$2=n),e}),{_v$:void 0,_v$2:void 0}),t})()]},vi=(ne(["click"]),se("<style>")),yi=se("<div>"),wi=(e,{element:t})=>{const[r,s]=x(!1),n=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&s(!0)}));return T((()=>{n.observe(t)})),E((()=>{n.disconnect()})),[(ce(o=vi(),we),o),D(K,{get when(){return r()},get children(){const t=yi();return t.style.setProperty("margin","0px"),ce(t,D(ai,{get badgeBackgroundColor(){return e.theme?.chatWindow?.backgroundColor},get bubbleBackgroundColor(){return e.theme?.button?.backgroundColor??"#3B81F6"},get bubbleTextColor(){return e.theme?.button?.iconColor??"white"},get showTitle(){return e.theme?.chatWindow?.showTitle},get title(){return e.theme?.chatWindow?.title},get titleAvatarSrc(){return e.theme?.chatWindow?.titleAvatarSrc},get welcomeMessage(){return e.theme?.chatWindow?.welcomeMessage},get errorMessage(){return e.theme?.chatWindow?.errorMessage},get poweredByTextColor(){return e.theme?.chatWindow?.poweredByTextColor},get textInput(){return e.theme?.chatWindow?.textInput},get botMessage(){return e.theme?.chatWindow?.botMessage},get userMessage(){return e.theme?.chatWindow?.userMessage},get feedback(){return e.theme?.chatWindow?.feedback},get fontSize(){return e.theme?.chatWindow?.fontSize},get footer(){return e.theme?.chatWindow?.footer},get chatflowid(){return e.chatflowid},get chatflowConfig(){return e.chatflowConfig},get apiHost(){return e.apiHost},isFullPage:!0,get observersConfig(){return e.observersConfig}})),k((r=>{var s=e.theme?.chatWindow?.backgroundColor||"#ffffff",n=e.theme?.chatWindow?.height?e.theme?.chatWindow?.height.toString()+"px":"100vh",o=e.theme?.chatWindow?.width?e.theme?.chatWindow?.width.toString()+"px":"100%";return s!==r._v$&&(null!=(r._v$=s)?t.style.setProperty("background-color",s):t.style.removeProperty("background-color")),n!==r._v$2&&(null!=(r._v$2=n)?t.style.setProperty("height",n):t.style.removeProperty("height")),o!==r._v$3&&(null!=(r._v$3=o)?t.style.setProperty("width",o):t.style.removeProperty("width")),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t}})];var o};let xi;const ki=e=>{Si();var t=e.id?document.getElementById(e.id):document.querySelector("flowise-fullchatbot");if(!t)throw new Error("<flowise-fullchatbot> element not found.");Object.assign(t,e),xi=t},_i=e=>{Si();const t=e.id?document.getElementById(e.id):document.querySelector("flowise-modalchatbot");if(t)return Object.assign(t,e),(xi=t).openBot=e=>{e=new CustomEvent("openBot",{bubbles:!0,composed:!0,detail:{msg:e}}),t.dispatchEvent(e)},t;throw new Error("<flowise-modalchatbot> element not found.")},Ci=e=>{Si();var t=document.createElement("flowise-chatbot");Object.assign(t,e),document.body.appendChild(t),xi=t},Si=()=>{xi?.remove()},Ti=("undefined"!=typeof window&&(ve("flowise-modalchatbot",ye,bi),ve("flowise-fullchatbot",ye,wi),ve("flowise-chatbot",ye,ci)),{initFull:ki,init:Ci,initModal:_i,destroy:Si});(e=>{"undefined"!=typeof window&&(window.Chatbot={...e})})(Ti);export{Ti as default};
